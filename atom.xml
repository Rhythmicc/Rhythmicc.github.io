<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>RhythmLian&#39;s Blog</title>
  <icon>https://i.loli.net/2020/02/14/r2kUf4DVWNxcJAL.jpg</icon>
  
  <link href="https://rhythmlian.cn/atom.xml" rel="self"/>
  
  <link href="https://rhythmlian.cn/"/>
  <updated>2022-04-21T00:22:09.000Z</updated>
  <id>https://rhythmlian.cn/</id>
  
  <author>
    <name>RhythmLian</name>
    <email>RhythmLian@outlook.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>程序员延寿指南</title>
    <link href="https://rhythmlian.cn/2022/04/21/live-longer/"/>
    <id>https://rhythmlian.cn/2022/04/21/live-longer/</id>
    <published>2022-04-21T00:22:09.000Z</published>
    <updated>2022-04-21T00:22:09.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h2><ul><li>ACM: All-Cause Mortality / 全因死亡率</li></ul><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><ul><li>稳健的活得更久</li></ul><h2 id="关键结果"><a href="#关键结果" class="headerlink" title="关键结果"></a>关键结果</h2><ul><li>降低66.67%全因死亡率</li><li>增加~20年预期寿命</li><li><del>维持多巴胺于中轴</del></li></ul><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><ul><li>主要参考：对ACM的学术文献相对较多，可以作为主要参考</li><li>增加寿命与ACM关系非线性：显然增加寿命与ACM关系是非线性函数，这里假设 <code>DeltaLifeSpan=(1/(1-ACM)-1)*10</code></li><li>变量无法简单叠加：显然各个变量之间并不符合独立同分布假设，变量之间的实际影响也并不明确</li><li>存在矛盾观点：所有的证据都有文献/研究对应，但注意到：有些文献之间有显著矛盾的观点（如对于碳水摄入比例的矛盾）；有些文献存在较大争议（如认为22点前睡觉会提升43%全因死亡率）</li><li>研究仅表达相关：所有文献表明的更多是相关而非因果，在阅读时要考虑文献是否充分证明了因果 —— 如某文献表明了日均&gt;=7000步的人有显著低的全因死亡率。但步数少的人可能包含更多长期病患，如果没有合理的排除这块数据，那此文献调查失真</li></ul><h2 id="行动"><a href="#行动" class="headerlink" title="行动"></a>行动</h2><ul><li>输入<ul><li>固体：吃白肉（-3%~-11% ACM）、蔬果为主（-17%~-26% ACM），多吃辣（-23% ACM），多吃坚果（-4%~-27% ACM），少吃蛋黄（否则+7% ACM/0.5颗/天），中量碳水、多吃植物蛋白（-10% ACM）</li><li>液体：喝咖啡（-12%~-22% ACM），喝牛奶（-10%~-17% ACM），喝茶（-8%~15% ACM），少喝或不喝甜味饮料（否则每天一杯+7% ACM，+多巴胺），戒酒或每周100g（纯酒精量(g)=饮酒量(ml)×酒精浓度(%)×酒精密度0.8g/ml）内（否则+~50% ACM，无上限）</li><li>气体：不吸烟（否则+~50% ACM，-11~-12年寿命）</li><li>光照：晒太阳（-~40% ACM）</li><li>药物：二甲双胍（糖尿病人相比正常人可以+3年）、复合维生素（-8%癌症风险）、亚精胺（-30%~-60%  ACM）、葡萄糖胺（-39% ACM）</li></ul></li><li>输出<ul><li>运动：每周3次45分钟挥拍运动（-47% ACM）</li><li>日常：刷牙（-25% ACM）</li><li>睡眠：每天睡7小时全因死亡率最低；且22-24点间最好，<em>早睡+43% ACM，晚睡+15% ACM（存在争议）</em></li></ul></li><li>上下文<ul><li>体重：减肥（-54% ACM）</li></ul></li></ul><h2 id="证据"><a href="#证据" class="headerlink" title="证据"></a>证据</h2><h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><h4 id="固体"><a href="#固体" class="headerlink" title="固体"></a>固体</h4><ul><li>白肉<ul><li><a href="https://zhuanlan.zhihu.com/p/268401670">JAMA子刊：食用红肉和加工肉类会增加心脏病和死亡风险！鱼肉和家禽肉则不会</a><ul><li>出处：<a href="https://jamanetwork.com/journals/jamainternalmedicine/articlepdf/2759737/jamainternal_zhong_2020_oi_190112.pdf">Associations of Processed Meat, Unprocessed Red Meat, Poultry, or Fish Intake With Incident Cardiovascular Disease and All-Cause Mortality</a></li><li>增加红肉摄入与死亡风险相关。八年内平均每天增加至少半份红肉摄入（半份红肉相当于14g加工红肉或40g非加工红肉）的调查对象，在接下来八年内全因死亡风险增加10％（HR, 1.10; 95%CI, 1.04-1.17）；每周吃两份红肉或加工肉类（但不包括家禽或鱼类）会使全因死亡风险增加3%</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163703960-6f321de5-4daa-4ea5-95b9-af9c96f1c1bc.jpg" alt="红肉"></li></ul></li><li><a href="https://www.zhihu.com/question/67223570/answer/809785380">红肉和白肉最大的区别是什么？为啥要这么分呢？</a></li></ul></li><li>蔬果<ul><li><a href="https://www.sohu.com/a/322360740_164924">每年54万人死亡，竟是因为水果吃得少！？这已成十大死亡因素之一！</a><ul><li>出处：<a href="https://academic.oup.com/cdn/article-abstract/3/Supplement_1/nzz028.FS01-01-19/5516583">Estimated Global, Regional, and National Cardiovascular Disease Burdens Related to Fruit and Vegetable Consumption: An Analysis from the Global Dietary Database (FS01-01-19) </a></li><li>每天摄入200克新鲜水果可使死亡率降低17%，糖尿病大血管并发症（如中风、缺血性心脏病等）风险降低13%，及糖尿病小血管并发症（如糖尿病肾病、糖尿病眼病、糖尿病足病等）风险降低28%</li></ul></li><li><a href="https://mp.weixin.qq.com/s/E6BAi-Vnhr1jXBm0Pys2ZQ">《自然》子刊：每天二两西蓝花，健康长寿都有啦！分析近6万人23年的数据发现，吃含黄酮类食物与死亡风险降低20%相关丨临床大发现</a><ul><li>出处：<a href="https://www.nature.com/articles/s41467-019-11622-x">Flavonoid intake is associated with lower mortality in the Danish Diet Cancer and Health Cohort</a></li><li>吃含黄酮类食物与死亡风险降低20%相关</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163703969-42e64f88-e727-4e7d-85f2-07a92e29b613.jpg" alt="黄酮"></li><li>Bondonno博士说道“吃不同蔬菜、水果补充，不同种类的黄酮类化合物是很重要的，这很容易通过饮食实现：一杯茶、一个苹果、一个橘子、100克蓝莓，或100克西兰花，就能提供各种黄酮类化合物，并且总含量超过500毫克。</li></ul></li></ul></li><li>辣椒<ul><li><a href="https://3g.163.com/dy/article/F6Q7I1ME053228ZU.html">辣椒成死亡克星？据调研，常吃辣患病死亡风险可降低61%</a><ul><li>出处：<a href="https://www.sciencedirect.com/science/article/pii/S0735109719382063">Chili pepper consumption and mortality in Italian adults</a></li><li>2016年Plos One 的另一项来自美国的研究以16179名，年龄在18岁以上的人群为对象，并对其进行了高达19年的随访，发现在4946例死亡患者中，食用辣椒的参与者的全因死亡率为21.6％，而未食用辣椒的参与者的全因死亡率为33.6％。相较于不吃辣或很少吃（少于每周两次）的人群，每周吃辣＞4次的人群总死亡风险降低23%，心血管死亡风险降低34%。</li></ul></li></ul></li><li>鸡蛋<ul><li><a href="https://m.thepaper.cn/baijiahao_11540780">每天多吃半个蛋，增加7%的全因和心血管死亡风险？</a><ul><li>出处：<a href="https://dietandhealth.cancer.gov/">NIH-AARP工作主页</a>、<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7872242/">Egg and cholesterol consumption and mortality from cardiovascular and different causes in the United States: A population-based cohort study</a></li><li>每天多吃半个蛋，增加7%的全因和心血管死亡风险？在假设性替代分析中，研究者发现，用等量的蛋清/鸡蛋替代物、家禽、鱼、乳制品、坚果和豆类分别替代半只全蛋（25克/天）可以降低6%、8%、9%、7%、13%和10%的全因死亡率。</li></ul></li></ul></li><li>坚果<ul><li><a href="https://www.163.com/dy/article/GKVOMMMF05148PF4.html">哈佛20年研究：吃核桃的人更长寿，显著减少全因死亡，延长寿命</a><ul><li>出处：<a href="https://www.nejm.org/doi/full/10.1056/NEJMoa1307352">Association of nut consumption with total and cause-specific mortality</a></li><li>通过分析发现，经常食用核桃可以延长寿命，降低心血管疾病死亡风险。比起不吃核桃，每周食用核桃5份以上（1份28克）的健康预期寿命延长1.3岁，全因死亡风险降低14%，心血管疾病死亡率降低25%。</li></ul></li><li><a href="https://zhuanlan.zhihu.com/p/44454030">研究：每日食生坚果，死亡率降20%</a><ul><li>出处：<a href="https://americanpistachios.cn/sites/china/files/inline-files/APG_Health-%26-Nutrition-Research-Brochure_DEC-19-18.pdf">APG_Health-&amp;-Nutrition-Research-Brochure_DEC-19-18</a></li><li>研究人员发现，每周吃树坚果低于1盎司份量的人，死亡率降低7％。而每周吃了1盎司份量的人，减少11％的死亡率；每周吃2份量的人，减低13％；每周5至6份量者，减少了15％；一周7份以上的人，死亡率则减少20％。</li><li>另外两篇发表在《公共科学图书馆在线期刊》(Public Library of Science Online Journal)和《生物医学中心》(BioMed Central)上的医学预科研究论文，展示了试验开始时的横断面数据。这两项研究都评估了7,216名对象，以及他们食用坚果的频率和数量之间的关系。那些每周食用三份以上坚果(包括开心果)的研究对象的死亡率降低39%。</li></ul></li></ul></li><li>碳水（存有大量争议）<ul><li><a href="https://zhuanlan.zhihu.com/p/137815934">低碳生酮饮食（四）碳水化合物与长期死亡率</a><ul><li>出处：The Lancet Public Health - <a href="https://www.sciencedirect.com/science/article/pii/S246826671830135X">Dietary carbohydrate intake and mortality: a prospective cohort study and meta-analysis</a></li><li>碳水越低，寿命越短；碳水越高，寿命也轻微缩短；碳水50%左右（其实按照一般的说法，这也算高碳水）是最长寿命区间 </li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163703985-a2e2f8ac-101a-4f3c-903b-6850507f144b.jpg" alt="碳水"></li></ul></li><li><a href="https://www.chinacdc.cn/gwxx/202003/t20200323_214639.html">最强营养搭配！BMJ：这么吃，心血管疾病和死亡风险更低</a></li></ul></li><li>热量限制<ul><li><a href="https://www.zhihu.com/question/31395511">怎么看待BBC《进食、断食与长寿》？</a><ul><li>限制卡路里动物实验：CR（热量限制，即少吃）延迟了恒河猴的多种疾病发病和死亡率，与CR动物相比，正常喂养的猴子的各种疾病患病风险增加2.9倍，死亡风险增加3.0倍。</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163703988-8767185b-326a-4783-b2e2-f190322bb7d6.jpg" alt="热量限制-恒河猴"></li></ul></li></ul></li><li>综合<ul><li><a href="https://www.chinacdc.cn/gwxx/202003/t20200323_214639.html">最强营养搭配！BMJ：这么吃，心血管疾病和死亡风险更低</a><ul><li>通过对这些参与者的数据进行分析，研究人员发现碳水化合物（糖、淀粉和纤维）和蛋白质的摄入与全因死亡率呈非线性关系，而脂肪则与全因死亡率呈线性相关。其中，较高的糖分摄入与全因死亡风险和患心血管疾病的风险较高均有关联，而较高的饱和脂肪酸摄入与全因死亡风险较高有关。</li><li>图1：各种营养元素与全因死亡之间的关系</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163702022-8c2bfea9-ed5d-4fe0-8ead-e8740014b92b.jpg" alt="各种营养元素与全因死亡之间的关系"></li><li>图2：各种营养元素与心血管疾病之间的关系</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163702084-97fb4a03-707c-475d-b88e-6fe2f8e87f92.jpg" alt="各种营养元素与心血管疾病之间的关系"></li><li><strong>进一步研究表明，在所有的饮食模式中，全因死亡率风险最低的饮食方式为：10-30g高纤维、14-30%蛋白质、10-25%单不饱和脂肪酸、5%-7%多不饱和脂肪酸以及20%-30%淀粉摄入。</strong></li><li><strong>最优能量来源配比：<24%淀粉，15%-17%蛋白质，>15%单不饱和脂肪酸，&lt;15%糖，6%饱和脂肪酸，6%多不饱和脂肪酸，30g+高纤维</strong><h4 id="液体"><a href="#液体" class="headerlink" title="液体"></a>液体</h4></li></ul></li></ul></li><li>牛奶<ul><li><a href="https://www.sohu.com/a/253940257_419768">《柳叶刀》调研21个国家13万人：每天1斤牛奶或酸奶，心血管死亡风险下降23%</a></li><li>出处：<a href="http://mdrf-eprints.in/1114/1/Association_of_dietary_patterns_and_dietary_diversity_with_cardiometabolic_disease_risk_factors.pdf">Association of dairy intake with cardiovascular disease and mortality in 21 countries from five continents (PURE): a prospective cohort study</a></li><li>与不食用乳制品的人相比，每天摄入两份乳制品（一份指244克牛奶/酸奶，15克奶酪或5克黄油）的人，<strong>全因死亡风险下降了17%</strong>，心血管死亡风险下降23%，中风风险下降33%</li></ul></li><li>茶<ul><li><a href="https://www.jianshu.com/p/5461a205cf95?utm_campaign=hugo">10万中国人随访7年发现，每周喝三次茶与全因死亡风险降低15%，预期寿命增加1.26年相关 </a></li><li>出处：<a href="https://www.researchgate.net/profile/Fangchao-Liu-4/publication/338483323_Tea_consumption_and_the_risk_of_atherosclerotic_cardiovascular_disease_and_all-cause_mortality_The_China-PAR_project/links/5e55e5e94585152ce8efe511/Tea-consumption-and-the-risk-of-atherosclerotic-cardiovascular-disease-and-all-cause-mortality-The-China-PAR-project.pdf">Tea consumption and the risk of atherosclerotic cardiovascular disease and all-cause mortality: The China-PAR project</a></li><li><a href="http://rs.yiigle.com/CN112338202202/1351516.htm">中国成年人饮茶与死亡风险的前瞻性关联研究</a></li><li>纳入分析的438 443例研究对象随访11.1年共发生死亡34 661例。与从不饮茶者相比，当前非每日饮茶者和每日饮茶者全因死亡HR值（95%CI）依次为0.89（0.86~0.91）和0.92（0.88~0.95）。分性别分析显示，饮茶对全因死亡风险的保护作用主要见于男性（交互P&lt;0.05）</li></ul></li><li>无糖（甜味）饮料<ul><li><a href="https://www.zhihu.com/question/418598272/answer/1450648364">「无糖饮料使死亡风险增加 26 %」，是真的吗？</a><ul><li>相比于软饮料摄入量＜1杯/月的参与者，混合软饮料摄入≥1杯/天的参与者死亡风险增加18%，而<strong>摄入含糖软饮料或无糖软饮料会令死亡风险分别增加11%和27%。</strong></li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163704346-e7d92e7f-eba5-4673-8f15-3a96782c2e32.png" alt="饮料"></li></ul></li><li><a href="https://jamanetwork.com/journals/jamainternalmedicine/fullarticle/2749350">Association Between Soft Drink Consumption and Mortality in 10 European Countries</a></li></ul></li><li>有糖饮料<ul><li><a href="https://zhuanlan.zhihu.com/p/400746073">可乐和奶茶，增加全因死亡率高达62%！果汁降低免疫力，影响肝代谢！含糖饮料那些事</a><ul><li>每天1杯含糖饮料增加7%全因死亡率，2杯21%</li><li>在34年的随访中，研究人员发现，相比那些一个月喝1杯或者更少含糖饮料的人，每天喝2杯的人总体死亡风险升高了21%，心血管疾病死亡风险升高了31%，癌症死亡风险上升了16%。</li><li>只要每天多喝一杯含糖饮料，总体死亡风险将增加7%，心血管疾病的风险将增加10%，癌症相关的死亡风险将16%。</li><li>发表在国际顶级期刊《BMJ》上的一篇论文就证明了含糖饮料会在增加患癌风险，当然这篇文章验证的不仅仅是果汁，奶茶也有份——和含糖饮料相关的总体患癌风险要高出通常值18%，100%的鲜榨果汁也会使得整体的患癌风险上升12%。</li></ul></li></ul></li><li>果汁<ul><li><a href="https://zhuanlan.zhihu.com/p/66513350">JAMA子刊：100%纯果汁可能比含糖饮料更危险</a><ul><li>每天多摄入一份12盎司的含糖饮料，全因死亡率风险增加11%；</li><li>每天多摄入一份12盎司的果汁，全因死亡率风险增加24%。</li></ul></li></ul></li><li>咖啡<ul><li><a href="https://news.bioon.com/article/6725420.html">重磅！多篇研究证实喝咖啡与人群全因死亡率降低直接相关</a></li><li><a href="https://www.sohu.com/a/439412995_100003595">科普 | 喝咖啡又多了一个新理由：降低死亡率！ </a></li><li><a href="https://fanyi.pdf365.cn/help/249">地中海成年人咖啡消耗量及全因，心血管疾病和癌症的死亡率</a><ul><li>在最近的荟萃分析中，该研究包括来自不同国家的40项研究和3,852,651名受试者。在这项荟萃分析显示，咖啡摄入量与各种原因的死亡率，CVD和癌症死亡率之间存在非线性关系，每天摄入两杯咖啡的癌症死亡率最低(RR = 0.96)，CVD最低的死亡率，每天2.5杯(RR= 0.83)，全天最低死亡率为每天3.5杯(RR= 0.85)，并且随着咖啡消费量的增加，死亡率没有进一步降低或增加</li></ul></li></ul></li><li>亚精胺<ul><li><a href="https://www.medsci.cn/article/show_article.do?id=420d12904103">Science：科学背书！从精液中发现的亚精胺，竟然有着抗衰老、抗癌、保护心血管和神经、改善肥胖和2型糖尿病等逆天神效</a></li><li><a href="https://zhuanlan.zhihu.com/p/388942219">饮食中亚精胺摄入量高会降低死亡率</a><h4 id="气体"><a href="#气体" class="headerlink" title="气体"></a>气体</h4></li></ul></li><li>吸烟<ul><li><a href="https://www.medsci.cn/article/show_article.do?id=02ca2083319b">即使是低强度吸烟，也增加死亡风险！</a><ul><li>研究发现：在42 416名男性和86 735名女性（年龄在35-89岁之间，以前没有患病）中，18 985名男性（45%）和18 072名女性（21%）目前吸烟，其中33%的男性吸烟者和39%的女性吸烟者并不每天吸烟。8866名男性（21%）和53 912名女性（62%）从不吸烟。在随访期间，与从不吸烟相比，每天&lt;10支烟或每天≥10支烟的全因死亡率危险比分别为1.17（95%置信区间1.10-1.25）和1.54（1.42-1.67）。无论年龄或性别，危险比相似。与每日吸烟关系最密切的疾病是呼吸道癌症、慢性阻塞性肺病和胃肠道及血管疾病。在招募时已经戒烟的人的死亡率低于现在每天吸烟者。</li><li>吸烟者平均减少寿命11-12年</li></ul></li><li><a href="https://www.zhihu.com/question/24846224/answer/1719798177">吸烟让人过瘾是什么原理？有节制的吸烟依旧有害吗？</a><h4 id="光照"><a href="#光照" class="headerlink" title="光照"></a>光照</h4></li></ul></li><li>晒太阳<ul><li><a href="https://zhuanlan.zhihu.com/p/76301306">晒太阳和死亡率的关系，如何科学，安全的晒太阳？</a><ul><li>丹麦一项长达26年的研究发现，多晒太阳能显著延长寿命，即使是由于过度暴晒诱发皮肤癌的患者，平均寿命也比普通人长了6岁。<h4 id="药物"><a href="#药物" class="headerlink" title="药物"></a>药物</h4></li></ul></li></ul></li><li>NMN</li><li>二甲双胍<ul><li><a href="https://zhuanlan.zhihu.com/p/419202902">“胍”吹必看 丨我就是神药——二甲双胍</a><ul><li>二甲双胍不仅在多种肿瘤、心血管疾病及糖尿病中发挥保护作用，而且在肥胖、肝病、肾病及衰老方面也大放异彩。</li></ul></li><li><a href="https://zhuanlan.zhihu.com/p/357807109">二甲双胍2020最值得了解的“吃瓜”大新闻——护胃、健脑、抗衰、防癌还是致癌？</a></li><li><a href="https://baijiahao.baidu.com/s?id=1729999374705305768">二甲双胍真的那么神吗？美研究：父亲服用二甲双胍或致子女有缺陷</a></li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163702325-5d427542-9ae5-4311-8979-d0d326a9832f.jpg" alt="二甲双胍"></li><li>不良反应<ul><li>作为一种使用近百年的药物，二甲双胍的不良反应已经非常明确，常见的有：维生素B12缺乏（7%-17.4%），胃肠道不良反应（最高53%），疲倦（9%），头痛（6%）；严重但不常见的不良反应包括乳酸酸中毒、肝损伤；也有研究表明可能对胎儿致畸</li></ul></li></ul></li><li>复合维生素<ul><li><a href="https://health.qq.com/a/20121023/000026.htm">服用复合维生素可降低癌症危险8%，其他效果并不显著</a></li></ul></li><li>葡萄糖胺<ul><li><a href="https://www.sohu.com/a/436372221_120873241">神奇！氨糖降低心血管死亡率65%，与定期运动效果相当</a></li><li>美国西弗吉尼亚大学最新研究发现 氨糖（软骨素） 可以降低心血管死亡率65%，降低总体死亡率39%，效果与坚持定期运动相对</li><li>该研究使用1999年至2010年，16,686名成年人的国家健康和营养检查(NHANES)数据，参与者的中位追踪时间为107个月，而其中有648位参与者定期且每服用日500-1000毫克的葡萄糖胺/软骨素一年以上。</li></ul></li><li>亚精胺<ul><li><a href="https://www.medsci.cn/article/show_article.do?id=420d12904103">Science：科学背书！从精液中发现的亚精胺，竟然有着抗衰老、抗癌、保护心血管和神经、改善肥胖和2型糖尿病等逆天神效</a></li><li>亚精胺是最容易从人体肠道吸收的多胺。许多的食物中都含有大量的亚精胺，例如新鲜的青椒、小麦胚芽、花椰菜、西兰花、蘑菇和各种奶酪，尤其在纳豆等大豆制品、香菇和榴莲中含量更高。在本实验中，研究人员选择了829位年龄在45-84岁之间的参与者进行了为期20年的随访，分析了饮食中亚精胺摄入量与人类死亡率之间的潜在关联。</li><li>研究发现，女性的亚精胺摄入量高于男性，并且摄入量都会随着年龄的增长而下降。亚精胺的主要来源是全谷物（占13.4%）、苹果和梨（占13.3%）、沙拉（占9.8%）、芽菜（占7.3%）和马铃薯（占6.4%）。研究根据亚精胺摄入量将人群分为三组，低摄入量组（<62.2 µmol / d）、中摄入量组（62.2–79.8 µmol / d）和高摄入量组（> 79.8 µmol / d）。随访期间共记录了341例死亡，其中血管疾病137例，癌症94例，其他原因110例。经计算低中高三组的粗略死亡率分别为40.5%、23.7%和15.1%，这些数据表明亚精胺摄入量与全因死亡率之间的负相关关系显著。随着逐步对年龄、性别和热量的比例进行调整，这种相关关系依然显著。</li></ul></li><li>综合<ul><li><a href="https://zhuanlan.zhihu.com/p/145495570">《自然》子刊深度综述：如何开发抗衰老药</a></li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163702474-205baeec-f0ce-4e8d-96a4-36efe47534de.jpg" alt="如何开发抗衰老药"><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><h4 id="挥拍运动"><a href="#挥拍运动" class="headerlink" title="挥拍运动"></a>挥拍运动</h4></li></ul></li><li><a href="https://www.sohu.com/a/535581770_121124216">哪种运动性价比最高？权威医学杂志“柳叶刀”给出答案了 </a><ul><li>一周三次，每次45-60分钟，挥拍运动，降低~47%全因死亡率</li><li>羽毛球、乒乓球、网球等都算挥拍运动，但由于西化研究背景，可能指网球更多。这隐式的表达了全身锻炼更为重要<h4 id="走路"><a href="#走路" class="headerlink" title="走路"></a>走路</h4></li></ul></li><li><a href="http://www.shcell.org/219/3571.html">走路降低全因死亡率超过50%！每天走多少步最合适？《JAMA》子刊超10年研究告诉你答案</a><ul><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163704147-afec1c79-799b-4db8-b547-1a2431d504c9.jpg" alt="走路降低全因死亡率"></li><li>注1：这项研究参与者的平均年龄为45.2岁</li><li>注2：平均步数的多少与职业有关，此项研究仅表明相关性，还没有更深度的因果分析<h4 id="刷牙"><a href="#刷牙" class="headerlink" title="刷牙"></a>刷牙</h4></li></ul></li><li><a href="https://www.cn-healthcare.com/articlewm/20211209/content-1293760.html">50万国人研究证实：不好好刷牙，致癌！血管疾病也会增多！</a><ul><li>经常不刷牙的人：癌症、慢性阻塞性肺病及肝硬化风险分别增加了9%、12%和25%，过早死亡风险增加25%。<h4 id="泡澡"><a href="#泡澡" class="headerlink" title="泡澡"></a>泡澡</h4></li></ul></li><li><a href="https://www.cn-healthcare.com/article/20200326/content-533379.html">定期洗澡降低心血管疾病发作风险</a><ul><li>与每周一至两次泡澡或根本不泡澡相比，每天洗热水澡可以降低28%的心血管疾病总风险，降低26%的中风总风险，脑出血风险下降46%。而浴缸浴的频率与心源性猝死的风险增加无关。<h4 id="做家务（老年男性）"><a href="#做家务（老年男性）" class="headerlink" title="做家务（老年男性）"></a>做家务（老年男性）</h4></li></ul></li><li><p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0061529">Housework Reduces All-Cause and Cancer Mortality in Chinese Men</a></p><ul><li>72岁之后男性每周做重型家务可以减少29%平均死亡率</li><li>重型家务：吸尘、擦地板、拖地、擦洗窗户、洗车、搬动家具、搬煤气罐等等。</li><li>轻型家务：掸灰尘、洗碗、手洗衣服、熨烫、晾衣服、做饭、买日用品等等。<h4 id="睡眠"><a href="#睡眠" class="headerlink" title="睡眠"></a>睡眠</h4></li></ul></li><li><p><a href="https://med.sina.com/article_detail_103_1_105491.html">超30万亚洲人数据：每天睡几个小时最有益长寿？</a></p><ul><li>在男性中，与睡眠时长为7小时相比：睡眠持续时间≥10小时与全因死亡风险增加34%相关；</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163704166-226b7ebb-92ce-4753-a3e7-77a87652a104.jpg" alt="睡眠-男"></li><li>在女性中，与睡眠持续时间7小时相比：睡眠持续时间≥10小时与全因死亡风险增加48%相关；</li><li><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://user-images.githubusercontent.com/2707039/163704169-c5c715aa-7130-403b-b0d1-ec34fab094d8.png" alt="睡眠-女"></li></ul></li><li><a href="https://www.thepaper.cn/newsDetail_forward_14461799">颠覆认知！加拿大研究发现：早睡比熬夜或许更伤身，几点睡才好？</a><ul><li>其中一个结论为，就寝时间与全因死亡率的关联性强，过早睡觉和过晚睡觉都会影响健康，但是早睡增加的全因死亡率比晚睡增加的死亡率高，早睡增加了43%的死亡风险，而晚睡增加了15%的死亡风险。</li><li>这项调查研究，还存在很多局限性，比如没有直接证明就寝时间与死亡的关系，仅仅说明相关性，通过参与人群自我报告统计睡眠时间，数据不够客观</li></ul></li></ul><h3 id="上下文"><a href="#上下文" class="headerlink" title="上下文"></a>上下文</h3><h4 id="情绪"><a href="#情绪" class="headerlink" title="情绪"></a>情绪</h4><ul><li><a href="https://www.x-mol.com/paper/1288184397379059712/t?recommendPaper=1263704526086578176">悲观情绪与更高的全因死亡率和心血管疾病死亡率有关，但乐观情绪并不能起到保护作用</a><ul><li>在1993-1995年间，一项针对50岁以上澳大利亚人健康的双胞胎研究中包括了生活取向测试（LOT），其中包含乐观和悲观的项目。平均20年后，参与者与来自澳大利亚国家死亡指数的死亡信息相匹配。在2,978名具有很多可用分数的参与者中，有1,068人死亡。生存分析测试了各种乐观因素和悲观情绪分数与任何原因，癌症，心血管疾病或其他已知原因的死亡率之间的关联。年龄调整后的悲观量表上的核心与全因和心血管疾病死亡率相关（每1个标准差单位的危险比，95％置信区间和p值1.134、1.065–1.207、8.85×10 –5和1.196、1.045–1.368、0.0093 ），但不会因癌症死亡。乐观得分与悲观得分之间的相关性很弱（年龄调整后的等级相关系数= − 0.176），但与总死亡率或特定原因死亡率没有显着相关性。反向因果关系（引起悲观情绪的疾病）是不可能的，因为在那种情况下，心血管疾病和癌症都会导致悲观情绪。</li></ul></li></ul><h4 id="贫富"><a href="#贫富" class="headerlink" title="贫富"></a>贫富</h4><ul><li><a href="https://www.cn-healthcare.com/articlewm/20210727/content-1246348.html">JAMA子刊：贫富差距真能影响寿命？这可能是真的！</a><ul><li>该研究使用1994-1996年第一次收集的数据，并通过生存模型来分析净资产和长寿之间的关联。结果显示，共收纳5414 名参与者，平均年龄为 46.7岁，包括 2766 名女性。较高的净资产与较低的死亡风险相关。特别是在兄弟姐妹和双胞胎中（n = 2490），在较高的净资产和较低的死亡率之间观察到类似的关联，表明拥有更多财富的兄弟姐妹或双胞胎比拥有更少财富的兄弟姐妹/双胞胎活得更久。</li></ul></li></ul><h4 id="体重"><a href="#体重" class="headerlink" title="体重"></a>体重</h4><ul><li><a href="https://www.chinacdc.cn/gwxx/202009/t20200904_218959.html">JAMA子刊：减肥要趁早，才能有效降低死亡率风险</a><ul><li>对体重减轻的死亡率风险评估发现，体重从肥胖减轻到超重的成年人与稳定肥胖人群相比，全因死亡率降低了54％（危险比为0.46），然而从成年初期的超重减轻到中年以前的正常体重的人群的死亡率风险并未降低（风险比为1.12）。</li></ul></li></ul><h4 id="新冠"><a href="#新冠" class="headerlink" title="新冠"></a>新冠</h4><ul><li><a href="https://www.nature.com/articles/s41591-020-1112-0.pdf">Magnitude, demographics and dynamics of the effect of the first wave of the COVID-19 pandemic on all-cause mortality in 21 industrialized countries</a><ul><li>目前来看，新冠死亡率（美国）在1.5%左右，人均预期寿命减少了2年</li></ul></li><li><a href="https://www.zhihu.com/question/510943670/answer/2308499719">如何看待美国CDC宣称新冠死亡人数被高估？</a></li><li><a href="https://www.cdc.gov/nchs/nvss/deaths.htm">NVSS deaths</a></li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="养生" scheme="https://rhythmlian.cn/tags/%E5%85%BB%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>在Mac上安装numba</title>
    <link href="https://rhythmlian.cn/2022/03/11/MacInstallMumba/"/>
    <id>https://rhythmlian.cn/2022/03/11/MacInstallMumba/</id>
    <published>2022-03-11T04:49:22.000Z</published>
    <updated>2022-03-11T04:49:22.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="安装llvm-11"><a href="#安装llvm-11" class="headerlink" title="安装llvm@11"></a>安装llvm@11</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install llvm@11</span><br><span class="line">sudo ln -snf /opt/homebrew/Cellar/llvm@11/11.1.0_4/bin/llvm-config /usr/local/bin/llvm-config # ARM版本</span><br><span class="line">sudo ln -snf /usr/local/Cellar/llvm@11/11.1.0_4/bin/llvm-config /usr/local/bin/llvm-config              # Intel版本</span><br></pre></td></tr></table></figure><h2 id="安装Numba"><a href="#安装Numba" class="headerlink" title="安装Numba"></a>安装Numba</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install numba</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="Mac" scheme="https://rhythmlian.cn/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>亲戚关系计算器</title>
    <link href="https://rhythmlian.cn/2022/02/14/relationship-cal/"/>
    <id>https://rhythmlian.cn/2022/02/14/relationship-cal/</id>
    <published>2022-02-14T04:59:32.000Z</published>
    <updated>2022-02-14T04:59:32.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><center><iframe src="https://passer-by.com/relationship/vue/#/" width="750" height="1400" frameborder="0" loading="lazy" allowfullscreen></iframe></center>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="在线工具" scheme="https://rhythmlian.cn/categories/%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="工具" scheme="https://rhythmlian.cn/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>冬奥IPTV直播</title>
    <link href="https://rhythmlian.cn/2022/02/05/Winter-Olympics/"/>
    <id>https://rhythmlian.cn/2022/02/05/Winter-Olympics/</id>
    <published>2022-02-05T08:49:01.000Z</published>
    <updated>2022-02-05T08:49:01.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="table-container"><table><thead><tr><th>清晰度</th><th>链接</th></tr></thead><tbody><tr><td>8K25 5Mbps</td><td><a href="http://down.btvcloud.com/8k2021zhibo/zhibo8K2021.m3u8">http://down.btvcloud.com/8k2021zhibo/zhibo8K2021.m3u8</a></td></tr><tr><td>4K25 25Mbps</td><td><a href="http://223.110.235.9/ott.js.chinamobile.com/PLTV/3/224/3221228168/index.m3u8">http://223.110.235.9/ott.js.chinamobile.com/PLTV/3/224/3221228168/index.m3u8</a></td></tr><tr><td>4KHDR50 34Mbps</td><td><a href="http://223.110.235.24/ott.js.chinamobile.com/PLTV/3/224/3221228127/index.m3u8">http://223.110.235.24/ott.js.chinamobile.com/PLTV/3/224/3221228127/index.m3u8</a></td></tr><tr><td>1080P25 4Mbps</td><td><a href="http://39.135.138.60:18890/TVOD/88888910/224/3221226230/index.m3u8">http://39.135.138.60:18890/TVOD/88888910/224/3221226230/index.m3u8</a></td></tr></tbody></table></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="冬奥直播" scheme="https://rhythmlian.cn/tags/%E5%86%AC%E5%A5%A5%E7%9B%B4%E6%92%AD/"/>
    
  </entry>
  
  <entry>
    <title>在大陆设置Apple TV网络（软路由）</title>
    <link href="https://rhythmlian.cn/2022/01/25/ChinaAppleTV-Conf/"/>
    <id>https://rhythmlian.cn/2022/01/25/ChinaAppleTV-Conf/</id>
    <published>2022-01-25T04:16:47.000Z</published>
    <updated>2022-01-25T04:16:47.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="软路由准备"><a href="#软路由准备" class="headerlink" title="软路由准备"></a>软路由准备</h2><p>如果你已经做好相关准备工作，请跳过此节。</p><ol><li>硬件：<a href="https://item.taobao.com/item.htm?spm=a230r.1.14.18.76fb1b15qECJgS&amp;id=626680130958&amp;ns=1&amp;abbucket=19#detail">R2S</a> 仅展示设备（本站与该店铺无利益关系）。</li><li>镜像选择合适自己的，这里有GitHub排名靠前的几个推荐：<ol><li><a href="https://github.com/QiuSimons/YAOF">QiuSimons/YAOF</a></li><li><a href="https://github.com/kiddin9/OpenWrt_x86-r2s-r4s">kiddin9/OpenWrt_x86-<em>r2s</em>-r4s</a></li><li><a href="https://github.com/DHDAXCW/NanoPi-R2S">DHDAXCW/NanoPi-R2S</a></li></ol></li><li>按照相关文档设置为旁路由，并插在无线路由器的一个网口上（LAN口连接LAN口）；主要是设置旁路由的网关、DNS并关闭DHCP和IPV6。</li><li>使用PassWall或OpenClash，添加好订阅链接，注意打开UDP支持，保持应用开启。</li></ol><h2 id="Apple-TV网络设置"><a href="#Apple-TV网络设置" class="headerlink" title="Apple TV网络设置"></a>Apple TV网络设置</h2><p>手动设置IP，配置如下：</p><div class="table-container"><table><thead><tr><th>选项</th><th>值</th></tr></thead><tbody><tr><td>IP地址</td><td>使用DHCP分配的值</td></tr><tr><td>子网掩码</td><td>255.255.255.0</td></tr><tr><td>网关</td><td>软路由地址</td></tr><tr><td>DNS</td><td>无线路由器地址</td></tr></tbody></table></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>NGINX开启HTTPS</title>
    <link href="https://rhythmlian.cn/2021/09/04/nginxHttps/"/>
    <id>https://rhythmlian.cn/2021/09/04/nginxHttps/</id>
    <published>2021-09-04T09:53:28.000Z</published>
    <updated>2021-09-04T09:53:28.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><ol><li><p>首先在你的 nginx 目录下创建一个<code>.conf</code>文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/nginx/sites-available/test-https.conf</span><br></pre></td></tr></table></figure><p>并填入如下内容:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 443 ssl;</span><br><span class="line">        server_name www.example.com;</span><br><span class="line">        index index.html;</span><br><span class="line"></span><br><span class="line">        ssl_certificate     /usr/local/nginx/cert/www.example.com.pem;</span><br><span class="line">        ssl_certificate_key  /usr/local/nginx/cert/www.example.com.key;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_pass         http://127.0.0.1:__YOUR_PORT__;</span><br><span class="line">                proxy_set_header   Host $host;</span><br><span class="line">                proxy_set_header   X-Real-IP $remote_addr;</span><br><span class="line">                proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">                proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">                proxy_set_header Connection &quot;upgrade&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location ^~ /api/ &#123;</span><br><span class="line">                proxy_pass         http://127.0.0.1:__YOUR_PORT__/;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：第2行listen后面是<code>443 ssl</code>，莫要忘了ssl。</p><p>创建软连接到<code>/etc/nginx/sites-available/test-https.conf</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/nginx/sites-available/test-https.conf /etc/nginx/sites-enabled/test-https.conf</span><br></pre></td></tr></table></figure></li><li><p>将HTTPS证书上传到<code>/usr/local/nginx/cert/</code></p></li><li><p>重启NGINX服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="Linux" scheme="https://rhythmlian.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>在Mac上强制格式化U盘</title>
    <link href="https://rhythmlian.cn/2021/09/03/forceFormatUP/"/>
    <id>https://rhythmlian.cn/2021/09/03/forceFormatUP/</id>
    <published>2021-09-03T10:20:38.000Z</published>
    <updated>2021-09-03T10:20:38.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><ol><li><p>打开Terminal或iTerm2，并执行：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure><blockquote><p>/dev/disk2 (external, physical):</p><p>   #:                       TYPE NAME                    SIZE       IDENTIFIER</p><p>   0:     Apple_partition_scheme                        *62.9 GB    disk2<br>   1:          Apple_partition_map                         4.1 KB     disk2s1<br>   2:                      Apple_HFS                         4.1 MB     disk2s2</p></blockquote></li><li><p>将其格式化为<code>ExFAT</code>格式，并命名为<code>ud</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil eraseDisk ExFAT ud /dev/disk2</span><br></pre></td></tr></table></figure><blockquote><p>Started erase on disk2<br>Unmounting disk<br>Creating the partition map<br>Waiting for partitions to activate<br>Formatting disk2s2 as ExFAT with name ud<br>Volume name      : ud<br>Partition offset : 411648 sectors (210763776 bytes)<br>Volume size      : 122466304 sectors (62702747648 bytes)<br>Bytes per sector : 512<br>Bytes per cluster: 131072<br>FAT offset       : 2048 sectors (1048576 bytes)</p><p># FAT sectors    : 4096</p><p>Number of FATs   : 1<br>Cluster offset   : 6144 sectors (3145728 bytes)</p><p># Clusters       : 478360</p><p>Volume Serial #  : 6131f6bf<br>Bitmap start     : 2<br>Bitmap file size : 59795<br>Upcase start     : 3<br>Upcase file size : 5836<br>Root start       : 4<br>Mounting disk<br>Finished erase on disk2</p></blockquote></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="MacOS" scheme="https://rhythmlian.cn/tags/MacOS/"/>
    
  </entry>
  
  <entry>
    <title>好耶！通过cordova用Vue写安卓APP</title>
    <link href="https://rhythmlian.cn/2021/04/26/vueAndroid/"/>
    <id>https://rhythmlian.cn/2021/04/26/vueAndroid/</id>
    <published>2021-04-26T13:35:38.000Z</published>
    <updated>2021-04-26T13:35:38.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="基础环境"><a href="#基础环境" class="headerlink" title="基础环境"></a>基础环境</h2><ol><li>确保你有<a href="https://www.cnblogs.com/ewqv/p/6747269.html">node.js</a>环境</li><li>有Java JDK + Android SDK + AVD(安卓虚拟机)</li></ol><h2 id="安装Vue与Cordova"><a href="#安装Vue与Cordova" class="headerlink" title="安装Vue与Cordova"></a>安装Vue与Cordova</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g vue-cli # 安装vue</span><br><span class="line">npm i -g cordova # 安装cordova</span><br></pre></td></tr></table></figure><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="创建cordova项目"><a href="#创建cordova项目" class="headerlink" title="创建cordova项目"></a>创建cordova项目</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cordova create demo com.example.demo DEMO</span><br><span class="line">cordova platform add android # 添加安卓平台</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>名称</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>demo</td><td>是</td><td>工程的文件夹名称</td></tr><tr><td>com.example.demo</td><td>否</td><td>应用程序的id，不填默认为io.cordova.hellocordova</td></tr><tr><td>DEMO</td><td>否</td><td>APP 名称</td></tr></tbody></table></div><h3 id="在cordova项目中添加Vue项目"><a href="#在cordova项目中添加Vue项目" class="headerlink" title="在cordova项目中添加Vue项目"></a>在cordova项目中添加Vue项目</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd demo</span><br><span class="line"></span><br><span class="line">vue init webpack vue-app</span><br></pre></td></tr></table></figure><ol><li><p>项目结构：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x   - lianhaocheng 26 4 21:34 .</span><br><span class="line">.rwxr-xr-x  50 lianhaocheng 26 4 21:34 ├── build.sh</span><br><span class="line">.rw-r--r-- 934 lianhaocheng 26 4 20:48 ├── config.xml</span><br><span class="line">.rw-r--r-- 154 lianhaocheng 26 4 21:33 ├── Makefile</span><br><span class="line">drwxr-xr-x   - lianhaocheng 26 4 20:48 ├── node_modules</span><br><span class="line">.rw-r--r-- 28k lianhaocheng 26 4 20:48 ├── package-lock.json</span><br><span class="line">.rw-r--r-- 619 lianhaocheng 26 4 20:48 ├── package.json</span><br><span class="line">drwxr-xr-x   - lianhaocheng 26 4 20:48 ├── platforms</span><br><span class="line">drwxr-xr-x   - lianhaocheng 26 4 20:48 ├── plugins</span><br><span class="line">drwxr-xr-x   - lianhaocheng 26 4 20:57 ├── vue-app</span><br><span class="line">drwxr-xr-x   - lianhaocheng 26 4 21:34 └── www</span><br></pre></td></tr></table></figure></li></ol><ol><li><p>在<code>vue-app/index.html</code>的<code>head</code>中添加下面代码   </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span> <span class="attr">content</span>=<span class="string">&quot;default-src &#x27;self&#x27; data: gap: https://ssl.gstatic.com &#x27;unsafe-eval&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; media-src *; img-src &#x27;self&#x27; data: content:;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;format-detection&quot;</span> <span class="attr">content</span>=<span class="string">&quot;telephone=no&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;msapplication-tap-highlight&quot;</span> <span class="attr">content</span>=<span class="string">&quot;no&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>修改<code>vue-app/config/index.js</code>中的<code>build</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">build: &#123;</span><br><span class="line">    <span class="comment">// Template for index.html</span></span><br><span class="line">    <span class="attr">index</span>: path.resolve(__dirname, <span class="string">&#x27;../../www/index.html&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Paths</span></span><br><span class="line">    <span class="attr">assetsRoot</span>: path.resolve(__dirname, <span class="string">&#x27;../../www&#x27;</span>),</span><br><span class="line">    <span class="attr">assetsSubDirectory</span>: <span class="string">&#x27;./static&#x27;</span>,</span><br><span class="line">    <span class="attr">assetsPublicPath</span>: <span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>在<code>vue-app/index.html</code>的<code>body</code>中添加</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;cordova.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="打包或运行"><a href="#打包或运行" class="headerlink" title="打包或运行"></a>打包或运行</h3><ol><li><p>打包vue项目</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure></li><li><p>打包安卓apk</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cordova build android</span><br></pre></td></tr></table></figure></li><li><p>不打包直接运行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cordova run android</span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/04/26/8677b6e088718f0c8a497b5095e7c277.jpg" alt=""></p></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>各种平台安装python3</title>
    <link href="https://rhythmlian.cn/2021/04/11/pythonInstall/"/>
    <id>https://rhythmlian.cn/2021/04/11/pythonInstall/</id>
    <published>2021-04-11T15:29:08.000Z</published>
    <updated>2021-04-11T15:29:08.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="Ubuntu-源码安装"><a href="#Ubuntu-源码安装" class="headerlink" title="Ubuntu 源码安装"></a>Ubuntu 源码安装</h2><ol><li><p>APT安装依赖包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libffi-dev python3-dev libssl-dev libbz2-dev libncurses5-dev libncursesw5-dev libbz2-dev zlib1g-dev liblzma-dev -y</span><br></pre></td></tr></table></figure></li></ol><ol><li><p>去官网下合适版本的源码包:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qs dl https://www.python.org/ftp/python/3.9.4/Python-3.9.4.tar.xz</span><br></pre></td></tr></table></figure></li><li><p>解压</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qs untar Python-3.9.4.tar.xz</span><br></pre></td></tr></table></figure></li><li><p>进入文件夹并配置安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd Python-3.9.4</span><br><span class="line">./configure --enable-optimizations --prefix=/usr/local/python3</span><br><span class="line">make &amp;&amp; sudo make install</span><br></pre></td></tr></table></figure></li><li><p>创建软链接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -snf /usr/local/python3/bin/python3 /usr/bin/python3</span><br><span class="line">sudo ln -snf /usr/local/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure></li></ol><h3 id="可能的问题"><a href="#可能的问题" class="headerlink" title="可能的问题"></a>可能的问题</h3><h4 id="lsb-release-returned-non-zero-exit-status-1"><a href="#lsb-release-returned-non-zero-exit-status-1" class="headerlink" title="lsb_release returned non-zero exit status 1"></a><code>lsb_release returned non-zero exit status 1</code></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm /usr/bin/lsb_release</span><br></pre></td></tr></table></figure><h2 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h2><p>官网有dmg的安装包，按流程走就行。</p><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>官网有安装包，按流程走，注意添加环境变量。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="Python" scheme="https://rhythmlian.cn/categories/Python/"/>
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>【旅途】贩卖火箭的人</title>
    <link href="https://rhythmlian.cn/2021/03/13/Musk/"/>
    <id>https://rhythmlian.cn/2021/03/13/Musk/</id>
    <published>2021-03-12T18:41:48.000Z</published>
    <updated>2021-03-12T18:41:48.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>作者：电丸科技AK<br><a href="https://www.bilibili.com/read/cv10254498">https://www.bilibili.com/read/cv10254498</a><br>出处： bilibili</p><p>早在2015年，Musk就提出要在太空部署卫星，为地面传输互联网信号。而当时，所有人都觉得这是企业家式的空谈。因为很多人觉得，SpaceX的成功让Musk愈发膨胀。从2021这个时间点上回顾之前所有对Musk的嘲讽和批判，会发现那些人全都被打脸了。Musk吹过的牛都一一实现了。</p></blockquote><h2 id="想上天，得有个火箭"><a href="#想上天，得有个火箭" class="headerlink" title="想上天，得有个火箭"></a>想上天，得有个火箭</h2><p>目前地球近轨道运行着1100多颗starlink卫星。北美地区已经开通了测试版服务，运行良好。而且在2020年末，SpaceX 还从联邦通讯委员会(FCC)获得了8.8亿美元的资金支持，去帮助美国乡村地区接入互联网。</p><p>火箭，飞船，卫星，电动汽车，电池。所有一切其实都指向一个终极目标——登陆火星。现在没人觉得这是句笑话，未来感觉就在眼前。</p><p>Musk开创的这一系列伟大的事业，也得从他梦想登陆火星开始。想上天，得先有个火箭。</p><p>出身南非，在加拿大上了两年大学，来到美国，又上了三年大学，取得经济学和物理学双学位。小时候的Musk喜欢编程，也喜欢看阿西莫夫（最伟大的科幻作家之一）。大学毕业后，顺利进入斯坦福念应用物理与材料科学博士学位。然而在入学两天后就辍学，因为他已经很清楚自己想进入的领域：互联网、新能源、太空。</p><p>后来的故事所有人知道，他是第一波互联网浪潮的新贵。Zip2和PayPal让他成为亿万富翁。按照剧本，他应该成为风险投资人，投互联网产品，一些成功，一些不成功。成功的投资会带来巨大回报，就算失败也是九牛一毛。不论怎样，坐等财富慢慢累加就行。可他满脑子想的还是人类上火星这件事儿。</p><p>2001年，通过一笔捐赠，Musk加入了一个由一群科学家组织的火星社团。他们在沙龙里讨论火箭，讨论外太空，讨论人类移民，讨论将小白鼠送到火星。除此之外，还有一个更硬核的话题常常被提起，也就是火星绿洲。 简单来说，就是利用火箭将温室送到火星，然后在火星表面土壤培育植物，由植物产生氧气。而且还要想办法，让这些在火星上的温室能把信号发回地球，以便实时监控植物状态。说不定starlink计划的萌芽就是在这里产生。</p><p>不差钱的马老板也开始资助各种太空实验项目。为了快点实现将老鼠和植物送向火星，2001年10月到次年2月，马老板和团队成员往返莫斯科多次，希望低价购买三枚合适的洲际导弹。为什么去俄罗斯呢，因为这里是除美国之外火箭技术最强的地方。而且，美国的火箭，即使亿万富翁也负担不起，单次费用高达6500万美元。</p><p>谈判还是崩了，有报道说是俄国技术专家不尊重Musk，觉得他只是个夸夸其谈的暴发户。饭都没吃完就散场了。也有人说是火箭太贵了，一个导弹（火箭）要800万美元。总之这肯定是场不怎么愉快的会面。</p><p>回美国的飞机上，团队成员喝着伏特加解闷。不一会，Musk把电脑举到他们面前说“我觉得我们能自己造火箭”。电脑上显示着的是Musk计算出的火箭制造成本。</p><p>说干就干。2002年6月，Musk创立了SpaceX，地点位于洛杉矶郊区，是一个占地7.5万平方英尺的仓库。这个仓库就像我们在电影里看到的那种制造火箭或是飞机的大场地。科学家，工程师，工人在这个巨大的顶棚下互相协作。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/f5f4d07925bd1a676080a58e983baa2e.jpg" alt=""></p><p>秉着快速迭代的思想，SpaceX先设计制造小型的运载火箭，也就是猎鹰1号。研发并试飞猎鹰1号是SpaceX积累经验的重要时期，也是最困难的时期。猎鹰1号总共飞行了五次，前三次都失败了。在进行第四次发射时，公司陷入财务危机，甚至雇不起工程师，Musk更是亲自上阵担任首席设计师。据说，当时的猎鹰1号开发成本已高达9000万美元。而Musk作为老板，不止一个公司在亏钱，成立了5年时间的Tesla，在投入了数千万美元之后，也还没造出来一个能上市的产品，每个月光流水支出还要400万美元。</p><p>猎鹰1号的第四次发射真的成了“最后一根稻草”。2008年8月，SpaceX创造了历史。人类历史上第一支私人公司投资的火箭一飞冲天。为了这一刻，Musk不死不休地钻研了6年。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/635ceb91e37a9d2015ccd6d5f7205afe.png" alt=""> </p><span class='p center small'>目前SpaceX的火箭型号</span><p>有了资金，有了这6年的经验，SpaceX开发了猎鹰9号系列。从2010年至今，这一主力机型完成了112次飞行任务，仅仅失败过2次。虽然猎鹰9号的开发成本达到将近3亿美元，但它却为公司带来上百亿元的收益。</p><p>猎鹰9号可以说是世界最先进的火箭之一。垂直降落，反复使用，强大的载力，极低的运行成本。可以说没有猎鹰9号就没有starlink的快速部署。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/26d8c6faf81f55184d6c908340f6034d.gif" alt=""></p><span class='p center small'>猎鹰9号释放60颗starlink卫星</span><p>如今的SpaceX已然如火如荼，除了火箭，还发展了其他几大项目：</p><ul><li><p>引擎：自公司成立以来，SpaceX开发过三个系列的火箭引擎。主力型号Merlin，退役的Kestrel，以及控制推进器Draco。目前还在研发一款新的发动机 Raptor。</p></li><li><p>太空飞行器：Dragon 号，它是典型的锥形弹道舱，能带货能拉人，最多能载7名宇航员。Dragon号已经为国际空间站进行了多次补给运输。<br><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/dda8ff90e3ed4d42f9c6f232c2cb9736.jpg" alt=""></p><span class='p center small'>Dragon</span></li><li><p>星舰(Starship): 之前叫做BFR（Big F… ing Rocket），后来改名 Starship，是星际运输系统的关键硬件，未来将替代猎鹰9号系列和Dragon。星舰既能执行地球轨道任务，并且还能完成星际运输，啥都能干。</p></li><li><p>可重复发射系统：通过改造驳船，使其变成无人驾驶着陆台，能够配合火箭精准着陆。让人印象最深地莫过于位于大西洋的一个自主无人船，它有个浪漫的名字“of course I still love you”。除了驳船，SpaceX还在改造钻井平台，试图将它们建成浮动发射平台，为发射星舰做准备。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/433bb2ebc53841c6247e051a818f55e0.jpg" alt=""></p></li><li><p>当然了，还有AK在视频里讲过的starlink项目。</p><style>.embed-container {    position: relative;    padding-bottom: 56.25%;    height: 0;    overflow: hidden;    max-width: 100%;  }  .embed-container iframe, .embed-container object, .embed-container embed {    position: absolute;    top: 0;    left: 0;    width: 100%;    height: 100%;  }  </style><div class="embed-container"><iframe src="https://www.youtube.com/embed/pqv54cGObFM" allowfullscreen frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div></li></ul><h2 id="Starlink"><a href="#Starlink" class="headerlink" title="Starlink"></a>Starlink</h2><p>就像视频中提到的，starlink意在为北美偏远地区提供更好的网络服务。即使是在发达国家，也有10%~20%的人口享受不到良好的网络服务，这是一块不小的市场。</p><p>目前starlink在三年里发射了20次卫星，数量达到1100多颗。在2021年，SpaceX计划每两周发射一次，每次60颗。</p><p>去年年底starlink开通测试服务，月租费99美元。此外，用户还要购买相应的设备用来接收卫星信号。其实卫星通讯一直都有，只不过价格高，品质差，有数据限制。但starlink比常用的通讯卫星体积小，且布置在近地区轨道，能极大减少延迟。是在真正意义上满足了普通人上网刚需。</p><p>凭着众多技术积累，starlink在这个领域遥遥领先。老牌的卫星通讯公司是被淘汰的存在。新的竞争对手几乎没有。眼瞅着亚马逊的Project Kuiper和加拿大的TeleSat还没发第一个卫星呢，像样点儿的OneWeb虽然发射了74颗卫星，但由于疫情原因，公司最终申请破产。</p><p>倒是有传言称一家中国企业计划发射超过12000颗卫星，用以服务全球宽带市场。并且这家公司已经向国际电信公司提交了频段申请。结合前段时间的两会快讯，这一消息大概率是真的。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/e27bdef0adbe2072e6ea07b1e89df3ae.png" alt=""></p><p>即将开始的太空卫星竞赛也让科学家们产生了担忧。过多数量的卫星会产生更多太空垃圾，并在一定程度上干扰天文观测。据估计，自人类开拓宇宙空间以来，被发射到地球之外的物体有10000多个。而starlink一家公司就计划在2024年之前发射10000颗卫星。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/ffcb8f92d801dba9c1d1f77858031af5.gif" alt=""></p> <span class='p center small'>英国上空看到的starlink卫星</span><p>SpaceX公司也全力配合开发VisorSats来降低反射率，调整卫星角度和高度，开发碰撞系统以避免卫星碰撞损毁，产生碎片垃圾。</p><h2 id="这个世界需要想象力"><a href="#这个世界需要想象力" class="headerlink" title="这个世界需要想象力"></a>这个世界需要想象力</h2><p>饰演《钢铁侠》的罗伯特·唐尼将Musk比作霍华德修斯，如果你看过小李子演的《飞行家》，你会明白唐尼在说Musk是个梦想家。</p><p>今天，Musk被人捧为宇宙之神。或许很多人对这种神话感到厌倦，厌倦他在Twitter信口开河，搅乱资本市场。可要知道，他所拥有的一切都是自己亲手创造的。当年的Musk在卖了Paypal之后也可以选择像比尔盖茨或扎克伯格一样，利用手中的钱在资本市场翻云覆雨，或是当一个成功的风险投资人。而他却不断开拓新的领域，从SpaceX到Tesla，从太阳能公司到starlink，将自己的雄心和事业放在地球之外。</p><p>阿姆斯特朗在月球上迈出的一步，是美国的第一步，也是人类的第一步。但探索宇宙的野心和步伐似乎也冻结在那一张灰色的照片里。 看着今天的历史课本里还在缅怀曾经的光辉让人感到沮丧，没有新的故事了吗？燃油车技术已经有100年的历史了，拜托，怎么还是燃油车？直到Model S上市；在第一颗火箭发射后，火箭回收技术不就应该提上日程了吗？直到猎鹰9号击破长空。众人哗然，太酷了，这才是这个年代应该有的东西。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/14/5eb1490ba54cfeb53ac22963e1a413fd.jpg" alt=""></p><p>人们很忙，忙着在股市里搅弄风云，忙着在政治中长袖善舞，忙着管别人家的闲事儿。我们困囿于生活中的柴米油盐，但还好，总有人怀有一颗要把乾坤扭转来的决心。</p><p>Musk收购Tesla是因为他当时的代步工具，一辆燃油迈凯伦。这些高高在上，技术迭代又慢的燃油车实在是让他感到厌倦。但当他遍寻市场，居然没有一辆能够拿的上台面的电动车，面对这种需求缺口，他只能自己动手，丰衣足食了。如今的Tesla惊艳无数人。随后各大厂商豪门纷纷效仿，将眼光投射在这一领域。Musk却不以为然，他对任何事物都有解构的能力，在他看来，Tesla是这个世界早该拥有的东西。我们惊叹于他的创造力和行动力，殊不知，到底是他改变了这个世界，还是这个世界本来就孕育着这种可能。</p><p>他在社交软件上表现出来的挑剔与不屑，成为别人攻击他的由头。但挑剔何尝不是一种态度，正因为他的挑剔和对现下生活的不满，才促使他成为了今天独一无二的马斯克。</p><p>当我们的目光聚焦在Tesla，当我们凌晨时分还在关心SpaceX的发射实验，我们必须承认是Musk唤醒了无数人心中原始的冲动和想象，不受任何框架和边界的制约，世界可以是我们无限想象的样子。世界更不仅仅是一场政治博弈或金融风暴就能定义的，信息革命不是终点。尽管去造梦，抛弃狭隘与局限，让幻想照进现实。</p><blockquote><p> You may say that i’m a dreamer, but i’m not the only one.</p></blockquote>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="随笔" scheme="https://rhythmlian.cn/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="https://rhythmlian.cn/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>屏幕技术</title>
    <link href="https://rhythmlian.cn/2021/02/19/screen/"/>
    <id>https://rhythmlian.cn/2021/02/19/screen/</id>
    <published>2021-02-19T15:12:43.000Z</published>
    <updated>2021-02-19T15:12:43.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>— 摘自 <a href="http://weixin.qq.com/r/0ESTltzEIBRcKJj1bxFU">电丸科技</a></p><h2 id="LCD、OLED、MicroLED"><a href="#LCD、OLED、MicroLED" class="headerlink" title="LCD、OLED、MicroLED"></a>LCD、OLED、MicroLED</h2><p>目前显示器可分为LCD 和 OLED，虽然年年都在吹 OLED，但市面上主流的显示器屏幕还是 LCD。LCD 屏幕通过不断优化，达到了性能和成本的均衡。未来还真不一定是OLED屏的天下，因为半路又杀出来个Micro-OLED。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/968a3ac333276e5de8648edc75beba63.png" alt="1"></p><p>LCD 屏幕通过背光照射滤光层显示画面，通过电极层中间的液晶层控制亮度。早期是 CCFL(荧光灯发出背光)，目前都是 LED，最新的 Mini-LED 是对 LED 的改进，它提供更高对比度，响应时间和亮度，我们可以简单把它想象成众多高亮度的小块 LED 排列在整个面板背部区域。这提供了更为精细的背光控制（全阵列区域调光），每个 LED 都变得更小，减少屏幕漏光，增强对比度，而且 LED 越多，越能降低图像光晕。不过这种显示器虽然价格接近 OLED 的价格，但是它有更高亮度，且没有烧屏的风险。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/98424856096b0a05aca3e1f77eca0c36.png" alt="2"></p><p>依据液晶层的工作方式，我们将 LCD 分为VA、TN、IPS屏。</p><p>早期的LCD面板都是 TN 屏，TN 代表 twisted nematic，即扭曲向列。液晶以不同角度扭曲让偏振光通过。TN屏响应速度最快，应用于电竞屏。而且也只有TN屏能做到240Hz的刷新率，缺点是颜色对比度不高。</p><div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/6428b78ac16167726970f6d2d16acb4c.png" alt="<center>TN屏</center>"/></div><span class="image-caption"><center>TN屏</center></span></div><p>VA 即 Vertical-alignment，通过控制电压，让液晶垂直或水平于玻璃基板排列。VA面板有较高的静态对比度，可视角度比TN屏略高，但刷新率和响应时间较低。</p><div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/477b0817d0ee5d367a21922e881bcb6f.png" alt="<center>VA屏</center>"/></div><span class="image-caption"><center>VA屏</center></span></div><p>IPS 即 in-plane switching，晶体始终水平于玻璃基板，通过控制电压，让晶体水平旋转，从而改变光线强度。这种设计要求正负电极在玻璃基板同一侧。IPS色彩艳丽，可视角度大，而且最多能达到144Hz。</p><div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/3bc52366c99886dc0b40f9b813c980ca.png" alt="<center>IPS屏幕</center>"/></div><span class="image-caption"><center>IPS屏幕</center></span></div><p>除了以上三种，还有量子点屏幕。我们最常听到的 QLED，就是量子屏，是三星提出的概念。它基于VA面板，在背光层前又加了一层量子材料的滤光层，利用量子分子吸收和发射光的特性，使LCD屏幕更加鲜艳明亮。</p><h3 id="OLED"><a href="#OLED" class="headerlink" title="OLED"></a>OLED</h3><p>LCD通过背光照射滤光层发出颜色。而 OLED 是每个像素自发光，有机发光二极管两端的电压越高，亮度越高。使用单层玻璃或塑料面板，OLED 屏幕可以做到很薄。因为像素可以关闭，黑色是纯黑，理论上对比度是无限的。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/1c22dec42d24d6169d78745c7418af2e.png" alt="7"></p><p>OLED屏幕缺点也很明显，屏幕亮度不高，制造材料昂贵且无法回收，导致高昂的售价。有机发光二极管会随时间降解，容易老化。如果屏幕长时间在静止画面，会发生烧屏或留下残影。很多游戏会对此进行优化，比如隐藏血条栏、菜单栏的固定图标。屏幕本身会内置一些程序，移动固定不变的像素。</p><p>目前使用OLED屏幕的显示器非常少，DELL 曾推出过一款30寸的显示器，不过早已下架。因为价格已经高过同是OLED面板的电视了。所以目前能买到的显示设备还是以50寸以上的电视为主。</p><h3 id="MicrolLED"><a href="#MicrolLED" class="headerlink" title="MicrolLED"></a>MicrolLED</h3><p>那么有没有能达到OLED效果却没有它的缺点的材料呢？MicroLED 或许是一个方向。可以将它当做无机的 OLED，它们的工作原理相同。因为是无机物，MicroLED不会老化和烧屏，而且比OLED产生更高亮度。只不过距离这一技术投入市场还有很长的路要走。</p><h2 id="色域"><a href="#色域" class="headerlink" title="色域"></a>色域</h2><p>色域是一块屏幕能显示的色彩范围，不同色域适用不同场景并无优劣之分。不论什么色域，我们都能看见是它是显示在 CIE 1931 色度图中的三角范围。色度图是对人眼能感知到的色彩的量化。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/0bd662a159a65aaabd3fb140c07700fa.png" alt="8"></p><p><strong>sRGB:</strong> 这是微软联合其他品牌在1996年引入的标准，目前互联网内容绝大数都沿用这一标准。</p><p><strong>AdobeRGB：</strong> Adobe 公司引入的标准，它覆盖 CIE 1931 色彩空间的 53.1%，是对sRGB色彩范围的增强补充，而且方便转换为CMYK色彩空间。适用于专业人员，因为目前大多数硬件和软件还是sRGB标准。想要处理和观看 Adobe RGB 图片和内容，要软件支持，网站支持，显示器和浏览器支持。</p><p><strong>NTSC：</strong> 1953年美国国家电视委员会制定的颜色标准。在1976年，欧洲广播联盟进行了调整，并命名为72%NTSC，它成为现代电视色彩的标准。</p><p><strong>DCI-P3：</strong> DCI 是一众电影制作公司成立的组织，他们推出的DCI-P3 涵盖了电影院的色彩范围，色彩空间比sRGB多25%，比NTSC 少4%。随着手机，平板画质的提高，人们更愿意在小设备上看电影，诸如苹果，Sony的制造商就把DCI-P3标准引入了这些设备。</p><p>除了色域，色准ΔE也需要关注。它指显示设备的显示效果与标准色彩之间的差距。ΔE 小于 3.2 ，人眼就分辨不出差异了，对于图像处理，一般要求ΔE&lt;3。对于普通用户，不超过5就行。</p><h2 id="分辨率"><a href="#分辨率" class="headerlink" title="分辨率"></a>分辨率</h2><p>分辨率是屏幕能显示的像素数量，单看这一项其实没有意义，它还与屏幕尺寸，观看距离有关。屏幕越大，需要的分辨率就越高，观看距离越远，所需分辨率就越低。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/15eab4812f23543be6575ae3b4928964.png" alt="9"></p><p>所以我们需要另一个指标综合衡量显示器的分辨率和尺寸，也就是像素密度 PPI，它是两者的比值。同样是1080p分辨的显示器。24寸的 PPI 是91，27寸的是 81。同样距离，前者看上去会更清晰。一般来说，110PPI 就能提供清晰的画面，同时又不需要缩放图像，应该是最合适的选择。过高的分辨率会给显卡造成负担，而且还需要缩放100%~200%，显示空间其实并没有增大。如果某些应用软件对缩放没有良好支持，还会造成模糊的情况。推荐这个网站「sven.de/dpi 」，输入显示器大小和分辨率，可以计算PPI，还能看到一些常用设备的PPI。</p><p>苹果声称的”Retina”，是最佳观看距离与像素密度的比值。也就是在这个距离下，人眼分辨不出像素块。24寸的1080p 屏幕，在94cm的观看距离下对人眼来说就是视网膜屏。这里推荐这个「<a href="https://www.designcompaniesranked.com/resources/is-this-retina/」，可以计算屏幕">https://www.designcompaniesranked.com/resources/is-this-retina/」，可以计算屏幕</a> PPI 和最佳观测距离。</p><h2 id="HDR"><a href="#HDR" class="headerlink" title="HDR"></a>HDR</h2><p>HDR即高动态范围。图片的动态范围实际上是最亮区域与最暗区域的比值，本质上就是对比度。范围越大，屏幕就能在极端对比度下显示更多细节，画面就会越逼真。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/93230b7d86bac8c934b765ff1af9ad04.png" alt="10"></p><p>经常看电影的同学会知道 Dolby Vision 标准，它就是一种HDR，只不过标准极高，需要显示设备不低于4000 nit 的峰值亮度和12bit 的色深。同时，观看的内容也要达到这个标准。也就是从内容制作，到终端的观看都要遵循这一标准。</p><p>标准的HDR 是10 bit，所以我们经常看到 HDR10。电视HDR标准是亮度不低于 1000nit，而显示器使用的是VESA 制定的标准 DisplayHDR，如下表所示。其中带有 True Black 的是OLED显示器标准。可以发现入门级的400其实很鸡肋，只是亮度变高了而已，色域和对比度都没变，而且还是整体调光。值得注意的是，HDR也需要内容做适配才能达到更好的效果。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/19/d61ec1b0b41b75c86921bb01e3239cbb.png" alt="4"></p><h2 id="亮度和对比度"><a href="#亮度和对比度" class="headerlink" title="亮度和对比度"></a>亮度和对比度</h2><p>对比度是显示器产生最暗和最亮部分的比值。对比度越高，屏幕能在阴影和高光显示更多细节。对比度是个非常容易做文章的术语，很多人也不在乎对比度，多一个零少一个零已经无所谓了，有的显示器标注一百万比一，有的只有一千比一。</p><p>这是因为对比度分为动态和静态，凡是看到 LCD 屏幕标注几万比一的对比度都是动态的，这个数据没什么参考价值。要看静态对比度。大多数 IPS和 TN 显示器的静态对比度是 1000:1，VA屏 2000:1，高端显示器能达到 3000:1。</p><p>选择屏幕时我们经常被炫酷的名词搞得云里雾里，QLED、Nano-IPS、超高动态对比度、HDR10+、HDR400 … 其实多花些时间搞清楚营销词背后的技术原理，会发现没那么复杂，搞清原理的同时，也是理清自己需求的过程。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="技术分享" scheme="https://rhythmlian.cn/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>关于如何绕过GFW访问Google</title>
    <link href="https://rhythmlian.cn/2021/01/08/OverTheWall/"/>
    <id>https://rhythmlian.cn/2021/01/08/OverTheWall/</id>
    <published>2021-01-08T09:34:41.000Z</published>
    <updated>2021-01-08T09:34:41.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="啥是GFW，为啥要绕？"><a href="#啥是GFW，为啥要绕？" class="headerlink" title="啥是GFW，为啥要绕？"></a>啥是GFW，为啥要绕？</h2><span class='p center green small'>如果你知道此子标题的含义，请自行跳过。</span><div class="tip fa-link"><p>防火长城（英文名称Great Firewall of China，简写为Great Firewall，缩写GFW），也称中国防火墙或中国国家防火墙，指<a href="https://baike.baidu.com/item/中华人民共和国">中华人民共和国</a>政府在其管辖<a href="https://baike.baidu.com/item/因特网/114119">因特网</a>内部建立的多套<a href="https://baike.baidu.com/item/网络审查/6852900">网络审查</a>系统的总称，包括相关行政审查系统。 [1] 首要设计者为<a href="https://baike.baidu.com/item/北京邮电大学/139535">北京邮电大学</a>原校长<a href="https://baike.baidu.com/item/方滨兴/9525950">方滨兴</a>，被称为“国家防火墙之父”。</p><p><em>—百度百科</em></p></div><div class="note orange icon flat"><i class="note-icon fas fa-bullhorn"></i><p>简单来看，就是如果你访问的链接被它识别并命中，那么你的网络请求会被墙拦截，导致许多方便的网站无法访问。为了访问那些被墙掉的网站，你需要想办法绕过它，这种行为也被称为“翻墙”。</p></div><h2 id="翻墙合法性"><a href="#翻墙合法性" class="headerlink" title="翻墙合法性"></a>翻墙合法性</h2><span class='p center red small'>请注意，本文不会具体传授你如何翻墙（这属于违法行为）</span><p>但如果你只是自己使用，并能<strong>在境外注意自己的言行</strong>，依照目前GFW的态度，你看看片、和一些交流群的沙雕网友吹B是不会管的。截止目前，中国境内已至少有3000万人在过去一年使用过“翻墙”服务。</p><p>当然，上面只是从普通网民角度考虑，但如果你传授他人如何使用或为他人提供翻墙服务，属于违法行为，请知悉。</p><h2 id="翻墙方案简介"><a href="#翻墙方案简介" class="headerlink" title="翻墙方案简介"></a>翻墙方案简介</h2><p>目前主流的翻墙方案有两种：</p><ol><li>自己买或租境外的服务器，然后你外网的网络请求都交给它代理；</li><li>购买机场的服务。</li></ol><div class="tip "><p>如果你不喜欢在这个问题上花费过多的精力，<strong>建议你直接选择购买机场的服务</strong>。翻墙涉及许多网络安全知识，你要时刻与网警和墙斗智斗勇，GFW的 <code>深度包检测</code>(<a href="https://zh.wikipedia.org/zh/深度包检测">Deep packet inspection</a>, <code>DPI</code>) ， <code>SS</code>/<code>SSR</code> 与 <code>GFW</code> 在这一点上斗了好多年, 我加点伪装, 你加大侦测力度，我再加点混淆，你再加点AI识别算法，此消彼长，犬牙交错，无穷无尽。但如果你是机场用户，你可以不必为此花费过多精力，机场有专业的运营团队，处理各种节点的突发问题，也不必过于担心敏感期时给你梯子拆了的问题。</p><p>当然，机场也是有讲究的，建议你选择大机场的稳定服务，去找那种老板不容易跑路（或者运营团队和老板都在境外）的、可用节点多的、带宽够高的大机场。小机场，有很多都是服务质量差、老板说跑路就跑路，毕竟他们没什么成本。</p><p>购买前，一定要打探一番，先进交流群和网友们唠一唠<strong>节点稳定性、速度快不快、老板稳不稳、价格低不低</strong>。如果评价还可以，你可以考虑购买一个月的服务试用，建议不要直接一口气买一年的服务。</p></div><h3 id="各种线路的工作原理"><a href="#各种线路的工作原理" class="headerlink" title="各种线路的工作原理"></a>各种线路的工作原理</h3><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/05/8231c01f48225ee074ead5be30ea354d.jpg" alt=""></p><ol><li>直连机场，也就是目前国内多数人随便搞个VPN软件之类的玩意用的线路。他们通常部署几个国外的VPS，写进自己的软件包里，再卖订阅，不限流量但速度很慢。</li><li>普通中转机场 与 BGP中转机场类似，但在延迟、安全性上有区别。</li><li>IPLC线路是不需要翻墙的，但是这种线路卖的特别贵，带宽也不是很高，但有着很高的安全性和稳定性。</li></ol><h2 id="可用于翻墙的客户端"><a href="#可用于翻墙的客户端" class="headerlink" title="可用于翻墙的客户端"></a>可用于翻墙的客户端</h2><ol><li><a href="https://github.com/Fndroid/clash_for_windows_pkg">Clash for Windows</a></li><li><a href="https://github.com/Qv2ray/Qv2ray">Qv2ray</a></li></ol><p>上面的两个工具都是全PC平台支持的，不建议使用 <a href="https://github.com/shadowsocks/shadowsocks/tree/master">SS</a> 和 <a href="https://github.com/ShadowsocksR-Live/shadowsocksr">SSR</a> ，它们都已经被GFW精准识别了。</p><p>如果你使用的是IOS系统，那么过程要坎坷一点，但我推荐使用Quantumult X；安卓的话，凭你自己喜好了，SSR之类的都可以。</p><h2 id="如何找能用的机场？"><a href="#如何找能用的机场？" class="headerlink" title="如何找能用的机场？"></a>如何找能用的机场？</h2><p>去<a href="https://github.com/52bp/52bp.github.io">GitHub</a>找；</p><h2 id="写给高危人士"><a href="#写给高危人士" class="headerlink" title="写给高危人士"></a>写给高危人士</h2><div class="tip warning"><p>关于网络监控，原则上国内的人对公安系统而言，是完全裸奔的。但是，国内有至少有5亿网民，不可能严密监控，因为数据流是天文数字，只能利用程序大致检测敏感词，到一定程度人工处理。<br>互联网传送数据是把数据打成若干数据包，然后才是数据，那墙检查的是数据包，一般网友聊天说的数据量是天文数字，不可能记录的。如果腾讯要记录，每天至少要增加带1TB大硬盘的电脑25000台！注意是每天！<br>所以，只能检测数据包里的内容是否有敏感词：</p><ol><li><p>文字最容易检测，1万字的文章检查出敏感词大约只要千分之一秒。所以最好不要发敏感文字！</p></li><li><p>音频检查比较困难，要检查出敏感词，时间以分计算，所以微信不许转发音频。</p></li><li><p>最困难的是图形，如果非要识别要耗费大量计算机资源，网上的花夫人绝顶聪明，她把图形和文字结合在一起做成图形，基本莫法识别。</p></li></ol><p>如果是大V,肯定是严密监视的，而且是系统加人工处理，而且要记录的，我没有更好的建议。</p><p>如果是一般网民，大可不必担心。估计检测系统有一个敏感词数据库，检测时将数据包里的词与数据库里的词对比，如果复合就屏蔽，并自动计数，到达某个数就报警，封群或喝茶，</p><ol><li>尽量避免敏感词，用错别字甚至英文代替：</li><li>文字最好用便签转换成图片，手机截屏也是文字转换成图片</li><li>如果图片都不能转，说明该图片已被人工识别成敏文件，在那敏感词数据库已经有记载，若要继续转发，可以换文件名或把图形转轴90度即可。</li></ol><p>互联网是一把双刃，一方面当局通过技术手段更容易监控老百姓，另一方面网民也通过互联网获得了大量的信息。双方通过互联网斗智斗勇。那敏感词红线高低不是固定的，法不制众，需要我们大家一点一点抬高它，大家都缩手缩脚，敏感词只能越来越多标准越来越低。</p><p>— <a href="https://github.com/ShadowsocksR-Live/shadowsocksr-native/wiki/%E5%86%99%E7%BB%99%E9%AB%98%E5%8D%B1%E7%BF%BB%E5%A2%99%E4%BA%BA%E5%A3%AB">来源</a></p></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    
    <category term="GFW" scheme="https://rhythmlian.cn/tags/GFW/"/>
    
  </entry>
  
  <entry>
    <title>如何检查上传至百度网盘的视频作业</title>
    <link href="https://rhythmlian.cn/2021/01/01/BaiduDiskFileCheck/"/>
    <id>https://rhythmlian.cn/2021/01/01/BaiduDiskFileCheck/</id>
    <published>2020-12-31T16:19:47.000Z</published>
    <updated>2020-12-31T16:19:47.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>C语言课程视频作业要求每人每周录制七个解题视频任务，两个专业一共有一百五十多人加二十多位助教。显然，这项作业将产生大量的视频文件，平均每周会产出近千个视频，因此我在百度云上建立了两个共享文件夹，并写了个简单的脚本为两个专业的每个学生建立了视频存储的结构：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_stu_struct</span>():</span></span><br><span class="line">    <span class="keyword">import</span> os</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path + <span class="string">&#x27;2020&#x27;</span>) <span class="keyword">or</span> <span class="keyword">not</span> os.path.isdir(path + <span class="string">&#x27;2020&#x27;</span>):</span><br><span class="line">        os.mkdir(path + <span class="string">&#x27;2020&#x27;</span>)</span><br><span class="line">        os.mkdir(path + <span class="string">&#x27;2020/电子信息工程&#x27;</span>)</span><br><span class="line">        os.mkdir(path + <span class="string">&#x27;2020/计算机科学与技术&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> group:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path + <span class="string">&#x27;2020/电子信息工程/&#x27;</span> + i):</span><br><span class="line">            os.mkdir(path + <span class="string">&#x27;2020/电子信息工程/&#x27;</span> + i)</span><br><span class="line">            os.mkdir(path + <span class="string">&#x27;2020/计算机科学与技术/&#x27;</span> + i)</span><br><span class="line">        <span class="keyword">for</span> mem <span class="keyword">in</span> group[i]:</span><br><span class="line">            prof = profession[mem]</span><br><span class="line">            os.mkdir(path + <span class="string">&#x27;2020/&#x27;</span> + prof + <span class="string">&#x27;/&#x27;</span> + i + <span class="string">&#x27;/&#x27;</span> + mem)</span><br><span class="line">            os.system(<span class="string">&#x27;echo &quot;ignore&quot; &gt; &#x27;</span> + path + <span class="string">&#x27;2020/&#x27;</span> + prof + <span class="string">&#x27;/&#x27;</span> + i + <span class="string">&#x27;/&#x27;</span> + mem +</span><br><span class="line">                      <span class="string">&#x27;/.ignore&#x27;</span>)</span><br></pre></td></tr></table></figure><p>简单看就是，<code>专业-&gt;助教-&gt;学生</code>的结构，然后学生把视频作业上传到自己所属的文件夹中，此时，统计视频提交情况是比较困难的~</p><h2 id="获取视频作业目录结构"><a href="#获取视频作业目录结构" class="headerlink" title="获取视频作业目录结构"></a>获取视频作业目录结构</h2><p>不得不说，油猴是个强大的浏览器扩展，多亏了它，俺四处寻觅了一下，就找到了合适的<a href="http://source.rhythmlian.cn/MainSource/Share/Tampermonkey/baidudisk-fs-struct.user.js">爬虫脚本</a>：</p><div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/01/01/4934a4dce5865b951d68a93d72125fe2.png" alt="1"></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/01/01/d7dee11f0b1f176bb1ccb8c107b8b6f3.png" alt="2"></p>          </div><p>点击<code>导出目录信息</code>后，等待一段时间会得到一个html文件，里面有一段js塞满了目录的数据，将它提取出来写成json文件，就得到了下面的东西：（按照文件树DFS序生成的列表）</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/01/01/61ca71e418bba65d979a6b7a8d45f8c4.png" alt="3" /></p><p>接下来我们本地处理这个数据即可~</p><h2 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h2><h3 id="程序扫描"><a href="#程序扫描" class="headerlink" title="程序扫描"></a>程序扫描</h3><ol><li><p>学生的视频录制任务是存在本地的，任务可以被<code>竞赛号 + 题号</code>进行唯一标记，因此，只需要在遍历列表时匹配文件名的前两个数字，再进行一些简单的文本处理就可以识别到学生提交的视频任务。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">res = [<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> re.findall(<span class="string">&#x27;\d+&#x27;</span>, name)]</span><br><span class="line">res[<span class="number">1</span>] = res[<span class="number">1</span>] <span class="keyword">if</span> res[<span class="number">1</span>] &lt; <span class="number">100</span> <span class="keyword">else</span> res[<span class="number">1</span>] % <span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> rt_dir <span class="keyword">in</span> stuStatus <span class="keyword">and</span> rt_dir <span class="keyword">not</span> <span class="keyword">in</span> current_status:</span><br><span class="line">current_status[rt_dir] = <span class="built_in">set</span>()</span><br><span class="line">current_status[rt_dir].add(<span class="string">&#x27;%d题目集 %d题目&#x27;</span> % (res[<span class="number">0</span>], res[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure></li><li><p>接下来，对比学生<code>实际提交任务的列表</code>与<code>规定的任务列表</code>就可以判断学生是否足额提交作业。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> stuStatus:</span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> current_status:</span><br><span class="line">        ls = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> current_status[i]:</span><br><span class="line">            <span class="keyword">if</span> j <span class="keyword">in</span> stuStatus[i]:</span><br><span class="line">                stuStatus[i].remove(j)</span><br><span class="line">                ls.append(j)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> ls:</span><br><span class="line">            current_status[i].remove(j)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> stuStatus:</span><br><span class="line">    <span class="keyword">if</span> stuStatus[i]:</span><br><span class="line">        ls, has_use = [], <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">for</span> prob <span class="keyword">in</span> stuStatus[i]:</span><br><span class="line">            <span class="keyword">if</span> prob == <span class="string">&#x27;lucky guy&#x27;</span>:</span><br><span class="line">                ls.append((prob, <span class="string">&#x27;&#x27;</span>))</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            rest_problem = <span class="built_in">int</span>(re.findall(<span class="string">&#x27;\d+&#x27;</span>, prob)[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">if</span> (rest_problem <span class="keyword">not</span> <span class="keyword">in</span> rp_ls) <span class="keyword">or</span> (</span><br><span class="line">                    i <span class="keyword">not</span> <span class="keyword">in</span> current_status):  <span class="comment"># 题目不可替换 或 没有提交任何题目</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">for</span> replacable <span class="keyword">in</span> current_status[i]:</span><br><span class="line">                <span class="keyword">if</span> replacable <span class="keyword">in</span> has_use:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                rid = <span class="built_in">int</span>(re.findall(<span class="string">&#x27;\d+&#x27;</span>, replacable)[<span class="number">0</span>])</span><br><span class="line">                <span class="keyword">if</span> rid <span class="keyword">in</span> rp_ls:</span><br><span class="line">                    ls.append((prob, replacable))</span><br><span class="line">                    has_use.add(replacable)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> ls:</span><br><span class="line">            stuStatus[i].remove(item[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">if</span> item[<span class="number">1</span>]:</span><br><span class="line">                current_status[i].remove(item[<span class="number">1</span>])</span><br></pre></td></tr></table></figure></li><li><p>最后，将对比结果输出为一个文本文件，针对存在问题的学生进行人工甄别。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">list</span>(stuStatus.keys()):</span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> stuTA:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> stuStatus[i]:</span><br><span class="line">        stuStatus.pop(i)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s vs %s =&gt; %s&#x27;</span> %</span><br><span class="line">              (i, stuStatus[i], current_status[i]</span><br><span class="line">               <span class="keyword">if</span> i <span class="keyword">in</span> current_status <span class="keyword">and</span> current_status[i] <span class="keyword">else</span> <span class="string">&#x27;&#123;&#125;&#x27;</span>,</span><br><span class="line">               stuTA[i] <span class="keyword">if</span> i <span class="keyword">in</span> stuTA <span class="keyword">else</span> <span class="string">&#x27;None&#x27;</span>))</span><br></pre></td></tr></table></figure></li></ol><h3 id="人工甄别"><a href="#人工甄别" class="headerlink" title="人工甄别"></a>人工甄别</h3><p>经历程序扫描后被保留下来的存在问题的学生，主要有以下几种可能的问题：</p><ol><li>未提交: 确实没有提交作业</li><li>任务缺失: 缺失部分作业</li><li>任务错误: 提交的任务和被分配的任务不一致</li><li>命名错误: 命名不规范或错误命名导致的错误（视改正难度帮助修改）</li></ol><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/01/01/0314be7404a3a9051980cc81ab1d6fb3.png" alt="4"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="Python" scheme="https://rhythmlian.cn/categories/Python/"/>
    
    
    <category term="C语言课程助教" scheme="https://rhythmlian.cn/tags/C%E8%AF%AD%E8%A8%80%E8%AF%BE%E7%A8%8B%E5%8A%A9%E6%95%99/"/>
    
  </entry>
  
  <entry>
    <title>【DianNao】一种小体积、高吞吐量的泛在机器学习加速器</title>
    <link href="https://rhythmlian.cn/2020/10/17/DianNao/"/>
    <id>https://rhythmlian.cn/2020/10/17/DianNao/</id>
    <published>2020-10-17T08:39:35.000Z</published>
    <updated>2020-10-17T08:39:35.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>&emsp;&emsp;机器学习任务正在广泛的领域和广泛的系统(从嵌入式系统到数据中心)中变得无处不在。与此同时，一小部分机器学习算法(特别是卷积和深度神经网络，即CNN和DNNs)在许多应用中被证明是最先进的。随着体系结构朝着由核和加速器混合组成的异构多核的方向发展，机器学习加速器可以实现罕见的效率(由于目标算法数量较少)和广泛的应用范围的组合。</p><p>&emsp;&emsp;到目前为止，大多数机器学习加速器的设计都集中在高效实现算法的计算部分。然而，目前最先进的CNN和DNN的特点是它们的尺寸很大。在这项研究中，我们设计了一个适用于大规模CNN和DNN的加速器，特别强调了内存对加速器设计、性能和能量的影响。</p><p>&emsp;&emsp;结果表明，在<script type="math/tex">3.02 mm^2</script>和<script type="math/tex">485 mW</script>的小面积内，可以设计出具有高吞吐量、能够执行<script type="math/tex">452GOP/s</script>(如突触权重乘法和神经元输出加法等关键神经网络运算)的加速器；与<script type="math/tex">128</script>位<script type="math/tex">2 GHz</script>的SIMD处理器相比，该加速器的速度提高了<script type="math/tex">117.87</script>倍，总能量降低了<script type="math/tex">21.08</script>倍。结果表明，该加速器具有较高的吞吐能力，能够在<script type="math/tex">3.02 mm^2</script>和<script type="math/tex">485 mW</script>的小面积内完成<script type="math/tex">452GOP/s</script>(如突触权重乘法和神经元输出加法等关键的神经网络运算)的设计。在<script type="math/tex">65 nm</script>处布局后，获得了加速器的特性。在很小的空间内获得如此高的吞吐量，可以在广泛的系统和广泛的应用程序中打开最先进的机器学习算法的使用。</p><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>&emsp;&emsp;随着体系结构朝着由核和加速器混合组成的异构多核的方向发展，设计能够在灵活性和效率之间实现最佳折衷的加速器成为一个突出的问题。</p><p>&emsp;&emsp;第一个问题是，人们应该主要为哪一类应用设计加速器？随着加速器的架构趋势，高性能和嵌入式应用程序中的第二个同步而重要的趋势正在发展：许多新兴的高性能和嵌入式应用程序，从图像/视频/音频识别到自动翻译、商业分析，以及所有形式的机器人都依赖于机器学习技术。这一趋势甚至开始渗透到我们的社区，在那里，Parsec[2]的大约一半基准测试可以使用机器学习算法来实现。Parsec[2]是一个套件，部分引入该套件是为了突出新类型应用程序的出现。这一应用趋势与机器学习的第三个同样显著的趋势相结合，在过去几年中，基于神经网络(特别是卷积神经网络[27]和深度神经网络[16])的少量技术已被证明在广泛的应用范围内是最先进的[25]。因此，由于目标算法的数量有限，因此有一个独特的机会来设计能够实现两全其美的加速器：显著的应用范围以及高性能和高效率。</p><p>&emsp;&emsp;目前，这些工作负载大多在使用SIMD[41]的多核、GPU[5]或FPGA[3]上执行。然而，前述趋势已经被一些研究人员识别，他们提出了实现卷积神经网络[3]或多层感知器[38]的加速器；专注于其他领域(例如图像处理)的加速器也提出了机器学习算法所使用的一些原语的有效实现，例如卷积[33]。其他人已经提出了卷积神经网络的ASIC实现[13]，或者其他自定义神经网络算法的ASIC实现[21]。然而，所有这些工作都首先并且成功地专注于高效地实现计算原语，但是它们要么为了简单而自愿忽略存储器传输[33，38]，要么通过或多或少复杂的DMA将它们的计算加速器直接插入存储器[3，13，21]。</p><p>&emsp;&emsp;虽然计算原语的有效实现是第一步也是重要的一步，其结果很有希望，但低效的存储器传输可能会潜在地使加速器的吞吐量、能量或成本优势失效，即Amdahl定律效应，因此，它们应该像处理器一样成为一阶问题，而不是第二步加速器设计中考虑的因素。不过，与处理器不同的是，在目标算法中可以考虑内存传输的特定性质，就像加速计算一样。这在机器学习领域尤其重要，在机器学习领域，有一种明显的趋势是扩大神经网络的规模，以实现更好的准确性和更多的功能[16，26]。</p><p>&emsp;&emsp;在这项研究中，我们研究了一种能够适应最流行的最先进算法，即卷积神经网络(CNNS)和深度神经网络(DNNs)的加速器设计。我们将加速器的设计重点放在内存使用上，并研究了一种加速器体系结构和控制，以最大限度地减少内存传输并尽可能高效地执行它们。我们提出了一种65 nm的设计，在3.02mm2,485 mW的占地面积(不包括主存储器访问)下，每1.02 ns，即452GOP/s，可以并行执行496个16位定点运算。在最近CNN和DNN中发现的10个最大层上，该加速器比时钟频率为2 GHz的128位SIMD内核平均速度快117.87倍，能效(包括主存储器访问)高21.08倍。</p><p>&emsp;&emsp;总括而言，我们的主要贡献如下：</p><ul><li>一种用于大规模CNN和DNN的综合(放置和布线)加速器设计，最先进的机器学习算法。</li></ul><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/c2be28bfb7ee009e05d0b30fde645ecf.png" alt=""></p><ul><li>该加速器在小面积、功耗和能量占用方面实现了高吞吐量。</li><li>加速器设计关注的是内存行为，测量并不局限于计算任务，它们将内存传输的性能和能量影响考虑在内。</li></ul><p>&emsp;&emsp;该文件组织如下。在第2节中，我们首先提供最近的机器学习技术的入门读物，并介绍组成CNN和DNN的主要层。在第三节中，我们分析和优化这些层的存储行为，为基线和加速器设计做准备。在第4节中，我们解释为什么大规模CNN或DNN的ASIC实现不能与小型NN的直接ASIC实现相同。我们在第5节介绍了我们的加速器设计。方法学介绍在第6节，第7节的实验结果，第8节的相关工作中。</p><h2 id="2-Primer-on-Recent-Machine-Learning-Techniques-最新机器学习技术入门读本"><a href="#2-Primer-on-Recent-Machine-Learning-Techniques-最新机器学习技术入门读本" class="headerlink" title="2. Primer on Recent Machine-Learning Techniques | 最新机器学习技术入门读本"></a>2. Primer on Recent Machine-Learning Techniques | 最新机器学习技术入门读本</h2><p>&emsp;&emsp;尽管神经网络在机器学习领域的作用一直不稳定，即最初在20世纪80/90年代被炒作，然后随着支持向量机的出现而逐渐淡出人们的视线[6]。自2006年以来，神经网络的一个子集已经出现，在广泛的应用中实现了最先进的机器学习精度，部分原因是计算机视觉的神经科学模型的进步，如HMAX[37]。该神经网络子集包括深度神经网络(DNNs)[25]和卷积神经网络(CNNs)[27]。DNN和CNN是强相关的，它们在卷积层的存在和/或性质上特别不同，见后面。</p><p>&emsp;&emsp;<strong>处理与培训。</strong>目前，我们在加速器上实现了输入的快速处理(前馈)，而不是训练(反向路径)。这源于技术和市场考虑。从技术上讲，人们经常有一种重要的误解，认为在线学习对于许多应用程序来说都是必要的。相反，对于许多工业应用而言，离线学习就足够了，其中神经网络首先针对一组数据进行训练，然后运送给客户，例如关于手写数字、车牌号、要识别的人脸或对象的数目等进行训练；网络可以周期性地离线并重新训练。虽然今天，机器学习研究人员和工程师特别需要加快培训速度的架构，但这只是一个很小的市场，目前，我们专注于更大的最终用户市场，他们需要快速/高效的前馈网络。有趣的是，最近涉足硬件加速器的机器学习研究人员也做出了同样的选择。尽管如此，由于训练中使用的计算和访问模式的性质(特别是反向传播)与前向路径的性质相当相似，我们计划稍后在加速器中增加支持训练的必要功能。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/b97024f2328a30e071d92ae118089b36.png" alt=""></p><p>&emsp;&emsp;<strong>一般结构。</strong>尽管深度神经网络和卷积神经网络有不同的形式，但它们有足够的共同性质，可以定义一个通用的公式。通常，这些算法由(可能大量)层组成；这些层是按顺序执行的，因此可以独立考虑(和优化)它们。每一层通常包含几个称为功能地图的子层；然后我们使用术语输入功能地图和输出功能地图。总体而言，有三种主要的层：层次的大部分由卷积和合并(也称为子采样)层组成，在网络的顶部有一个由一个或几个层组成的分类器。</p><p>&emsp;&emsp;<strong>卷积层。</strong>卷积层的作用是将一个或多个本地过滤器应用于来自输入(先前)层的数据。因此，输入和输出特征地图之间的连接是局部的，而不是完全的。考虑输入是图像的情况，卷积是输入层的<script type="math/tex">K_x × K_y</script>子集(窗口)和相同维度的核之间的2D变换，见图1。核值是输入层和输出(卷积)层之间的突触权重。由于一个输入层通常包含多个输入特征映射，并且由于输出特征映射点通常是通过对所有输入特征映射的同一窗口应用卷积来获得的，请参见图1，核是3D的，即<script type="math/tex">K_x × K_y × N_i</script>，其中<script type="math/tex">N_i</script>是输入特征映射的数目。请注意，在某些情况下，连接性是稀疏的，即并非所有输入特征映射都用于每个输出特征映射。卷积层的典型代码如图7所示，参见原始代码。将非线性函数应用于卷积输出，例如<script type="math/tex">f(X)=tanh(X)</script>。卷积层的特征还在于两个连续窗口(一维或二维)之间的重叠，参见步骤 <script type="math/tex">S_x，S_y</script>以了解循环 <script type="math/tex">x，y</script>。</p><p>&emsp;&emsp;在某些情况下，将相同的核应用于输入层的所有<script type="math/tex">K_x × K_y</script>窗口，即，在整个输入特征映射上隐式共享权重。这是CNN的特征，虽然内核可以特定于DNNs[26]中输出特征映射的每个点，但我们随后使用术语私有内核。</p><p>&emsp;&emsp;<strong>合并图层。</strong>池化层的作用是聚合一组邻居输入数据中的信息。同样，在图像的情况下，它仅用于在给定窗口内保留图像的显著特征和/或以不同的比例这样做，请参见图1。汇集图层的一个重要副作用是降低了要素地图的维度。池层的示例代码如图8所示(请参阅原始代码)。请注意，每个要素地图是单独池化的，即2D池化，而不是3D池化。合用可以以各种方式进行，一些优选的技术是平均值和最大运算；合用之后可以是非线性函数，也可以不是。</p><p><strong>&emsp;&emsp;分类器层。</strong>卷积和池层是在深层层次结构中交织的，而层次结构的顶部通常是一个分类器。分类器可以是线性或多层(通常是2层)感知器，见图1。如图5所示，示例感知器层见原始代码。像卷积层一样，非线性函数被应用到神经元输出中，通常是一个b型，例如：<script type="math/tex">f(x) = \frac{1}{1+e^{-x}}</script>；不同于卷积或池层，分类器通常聚合(平坦)所有特征映射，所以在分类器层中没有特征映射的概念。</p><h2 id="3-Processor-Based-Implementation-of-Large-Neural-Networks-基于处理器的-大型-神经网络的实现"><a href="#3-Processor-Based-Implementation-of-Large-Neural-Networks-基于处理器的-大型-神经网络的实现" class="headerlink" title="3. Processor-Based Implementation of (Large) Neural Networks | 基于处理器的(大型)神经网络的实现"></a>3. Processor-Based Implementation of (Large) Neural Networks | 基于处理器的(大型)神经网络的实现</h2><p>&emsp;&emsp;加速大规模神经网络的独特之处在于潜在的高内存流量。在本节中，我们详细分析了第2节中提到的不同层的局部性，我们对这些层的基于处理器的实现进行了调整，以便为我们的基线准备和加速器的设计和使用。我们将局部分析/优化应用到各个层次上，并通过4个基准层(1，CONV3，CONV5，POOL3)对这些变换的带宽影响进行了说明，并在第6节中详细说明了它们的特性。</p><p>&emsp;&emsp;对于这个部分的内存带宽测量，我们使用一个缓存模拟器，插入到一个虚拟计算结构中，我们没有假设，除非它能够处理<script type="math/tex">T_n</script>神经元，每个周期都有<script type="math/tex">tT_i</script>突触。缓存层次结构由intel core i7驱动：L1为64位，64字节行，8路；可选L2是2MB、64byte、8路。与核心i7不同，我们假设缓存有足够的银行/端口来为输入神经元提供<script type="math/tex">T_n×4</script>字节，并且对于突触来说，<script type="math/tex">T_n×T_i×4</script>字节。对于大型<script type="math/tex">T_n，T_i</script>来说，这种缓存的成本可能会令人望而却步，但它只用于我们对局部性和带宽的限制研究；我们使用<script type="math/tex">T_n=T_i=16</script>。</p><h3 id="3-1-Classifier-Layers-分类器层"><a href="#3-1-Classifier-Layers-分类器层" class="headerlink" title="3.1 Classifier Layers | 分类器层"></a>3.1 Classifier Layers | 分类器层</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">for (int nnn = 0; nnn ¡ Nn; nnn += Tnn) &#123; // tiling for output neurons;</span><br><span class="line">for (int iii = 0; iii ¡ Ni; iii += Tii) &#123; // tiling for input neurons;</span><br><span class="line">for (int nn = nnn; nn ¡ nnn + Tnn; nn += Tn) &#123;</span><br><span class="line">for (int n = nn; n ¡ nn + Tn; n++)</span><br><span class="line">sum[n] = 0;</span><br><span class="line">for (int ii = iii; ii ¡ iii + Tii; ii += Ti) </span><br><span class="line">// — Original code —</span><br><span class="line">for (int n = nn; n &lt; nn + Tn; n++)</span><br><span class="line">for (int i = ii; i &lt; ii + Ti; i++)</span><br><span class="line">sum[n] += synapse[n][i] * neuron[i];</span><br><span class="line">for (int n = nn; n &lt; nn + Tn; n++)</span><br><span class="line">neuron[n] = sigmoid(sum[n]);</span><br><span class="line">&#125;&#125;&#125;</span><br></pre></td></tr></table></figure><center> <b>Figure 5.</b> <i>Pseudo-code for a classifier (here, percption) layer (original loop nest + locality optimization)</i> </center><p>&emsp;&emsp;我们考虑感知器分类器层，见图2和5；平铺循环<script type="math/tex">ii</script>和<script type="math/tex">nn</script>简单地反映了计算结构可以同时处理具有<script type="math/tex">T_i</script>突触的<script type="math/tex">T_n</script>神经元。内存传输总数为(加载的输入+加载的突触+写入的输出)：<script type="math/tex">N_i×N_n+N_i×N_n+N_n</script>。对于示例层CLASS1，相应的内存带宽很高，为120 Gb/s，请参见图6中的CLASS1-Original。下面我们将解释如何可能降低此带宽，有时会大幅降低。</p><p>&emsp;&emsp;<strong>输入/输出神经元。</strong>再次考虑图2和图5的代码。对于每个输出神经元，输入神经元被重复使用，但是由于输入神经元的数量可以在几十到几十万之间的任何范围内，它们通常不会在L1高速缓存中命中。因此，我们用平铺因子<script type="math/tex">T_{ii}</script>来平铺回路<script type="math/tex">ii</script>(输入神经元)。平铺的一个典型权衡是，改进一个参考(这里的神经元[i]是输入神经元)会增加另一个参考(输出神经元部分和的<script type="math/tex">sum[n]</script>)的重用距离，因此我们也需要平铺第二个参考，因此循环<script type="math/tex">nnn</script>和输出神经元部分和的平铺系数<script type="math/tex">T_{nn}</script>。正如预期的那样，瓦片大大降低了输入神经元的存储带宽需求，而输出神经元的存储带宽需求则有所增加，尽管幅度很小。层记忆行为现在由突触主导。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/fcf9a45d7b6aaf0a11263e1627c97aa6.png" alt=""></p><p>&emsp;&emsp;<strong>突触。</strong>在感知器层中，所有突触通常都是唯一的，因此在该层内不存在重用。另一方面，突触在网络调用之间重复使用，即，对于呈现给神经网络的每个新输入数据(也称为“输入行”)重复使用。因此，足够大的L2可以存储所有的网络突触，并利用该位置。对于具有私有内核的DNN来说，这是不可能的，因为突触的总数在数千万或数亿(迄今为止最大的网络有10亿个突触[26])。但是，对于具有共享内核的CNN和DNN，突触总数都在数百万个范围内，这在L2缓存的范围内。在图6中，请参阅<script type="math/tex">CLASS1-Tiled+L2</script>，我们模拟了这样一种情况，即只考虑感知器层即可跨网络调用重用；因此，总带宽需求现在已大幅降低。</p><h3 id="3-2-Convolutional-Layers-卷积层"><a href="#3-2-Convolutional-Layers-卷积层" class="headerlink" title="3.2 Convolutional Layers | 卷积层"></a>3.2 Convolutional Layers | 卷积层</h3><p>&emsp;&emsp;我们考虑二维卷积层，见图3和图7。卷积层相对于分类器层的两个显著特征是存在输入和输出特征映射(循环<script type="math/tex">i</script>和<script type="math/tex">n</script>)和核(循环<script type="math/tex">k_x, k_y</script>)。</p><p>&emsp;&emsp;<strong>输入/输出。</strong>输入和输出有两种重用机会：用于扫描(二维<script type="math/tex">(x，y)</script>)输入层的滑动窗口和跨<script type="math/tex">Nn</script>个输出特征映射的重用，见图3。前者最多对应于<script type="math/tex">\frac{K_x × K_y}{S_x × S_y}</script>重用，后者对应于NN重用。我们在图7中为前者平铺(平铺<script type="math/tex">T_x，T_y</script>)，但我们通常不需要为后者平铺，因为要重用的数据，即<script type="math/tex">K_x×K_y×N_i</script>的一个核，适合L1数据高速缓存，因为<script type="math/tex">K_x，K_y</script>通常是10的量级，而<script type="math/tex">N_i</script>可以在小于10到几百之间变化；当然，当不是这种情况时，我们可以平铺输入特征地图(<script type="math/tex">ii</script>)并再次引入第二级平铺循环<script type="math/tex">iii</script>。</p><p><strong>&emsp;&emsp;突触。</strong>对于具有共享内核的卷积层(参见第2节)，相同的内核参数(突触权重)在所有<script type="math/tex">xout，yout</script>输出特征映射位置上重复使用。因此，总带宽已经很低，如图6中的层CONV3所示。然而，由于总的共享内核容量是<script type="math/tex">K_x×K_y×N_i×N_o</script>，它可能会超过L1高速缓存容量，因此我们再次平铺输出特征地图(平铺<script type="math/tex">T_{nn}</script>)以将其降至<script type="math/tex">K_x×K_y×N_1×T_{nn}</script>。因此，总体内存带宽可以进一步减少，如图6所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">for(intyy=0;yyiNyin;yy+=Ty)&#123;</span><br><span class="line">  for(intxx=0;xxiNxin;xx+=Tx)&#123;</span><br><span class="line">    for(intnnn=0;nnnjNn;nnn+=Tnn)&#123;</span><br><span class="line">    //-Original code-(excluding nn, ii loops)</span><br><span class="line">    int yout=0;</span><br><span class="line">    for(inty=yy;y&lt;yy+Ty;y+=sy)&#123;//tiling fory;</span><br><span class="line">    int xout=0;</span><br><span class="line">    for(intx=xx;x&lt;XX+Tx;X+=sx)&#123;//tiling forx;</span><br><span class="line">    for (int nn = nnn; nnn + Tnn; nn+=Tn)&#123;</span><br><span class="line">    for(intn=nn;n&lt;nn+Tn;n++)</span><br><span class="line">    sum[n]=0;</span><br><span class="line">    //sliding window;</span><br><span class="line">    for(intky=0;ky&lt;Ky;ky++)</span><br><span class="line">    for(intkx=0;kx&lt;Kx;kx++)</span><br><span class="line">    for(intii=0;ii&lt;Ni;ii+=Ti)</span><br><span class="line">    for(intn=nn;n&lt;nn+Tn;n++)</span><br><span class="line">    for(inti=ii;i&lt;ii+Ti;i++)</span><br><span class="line">    //version with shared kernels</span><br><span class="line">    sum[n]+=synapse[ky][kx][n][i]</span><br><span class="line">    *neuron[ky+y][kx+x][i];</span><br><span class="line">    //version with private kernels</span><br><span class="line">    sum[n]+=synapse[yout][xout][ky][kx][n][i]&#125;</span><br><span class="line">    *neuron[ky+y][kx+x][i];</span><br><span class="line">    for(intn=nn;n&lt;nn+Tn;n++)</span><br><span class="line">    neuron[yout][xout][n]=non_linear_transform(sum[n]);</span><br><span class="line">  &#125;xout++;&#125;yout++;</span><br><span class="line">&#125;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure><center> <b>Figure 7.</b> <i>Pseudo-code for convolutional layer (original loop nest + locality optimization), both shared and private kernels versions</i> </center><p>&emsp;&emsp;对于具有私有内核的卷积层，突触都是唯一的，没有重用，就像分类器层一样，因此具有图6中CONV5的相似突触带宽。至于分类器层，如果L2容量足够的话，跨网络调用重用仍然是可能的。尽管阶跃系数(<script type="math/tex">S_x，S_y</script>)和输出特征图的稀疏输入(参见第2节)可以大幅减少私有内核突触权重的数量，但对于CONV5等非常大的层，它们的范围仍然在数百兆字节，因此将大大超过L2容量，这意味着高内存带宽，请参见图6。</p><p>&emsp;&emsp;值得注意的是，机器学习社区中关于共享内核与私有内核的争论正在进行[26，35]，拥有私有内核而不是共享内核的机器学习重要性仍然不清楚。由于它们可能导致显著不同的体系结构性能，这可能是体系结构/性能社区参与机器学习辩论的情况。</p><h3 id="3-3-Pooling-Layers-池化图层"><a href="#3-3-Pooling-Layers-池化图层" class="headerlink" title="3.3 Pooling Layers | 池化图层"></a>3.3 Pooling Layers | 池化图层</h3><p>&emsp;&emsp;现在我们考虑汇集层，见图4和图8。与卷积层不同，输入和输出特征图的数量是相同的，更重要的是，没有核，即没有要存储的突触权重，并且输出特征图元素仅由<script type="math/tex">K_x×K_y</script>输入特征图元素确定，即2D窗口(而不是用于卷积层的3D窗口)。因此，唯一的重用来源来自滑动窗口(而不是滑动窗口和输出特征映射的组合效果)。由于重用机会较少，输入神经元的存储带宽高于卷积层，并且<script type="math/tex">(T_x，T_y)</script>平铺带来的改进不那么显著，请参见图6。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">for(intyy=0;yyiNyin;yy+=Ty)&#123;</span><br><span class="line">  for(intxx=0;xxiNxin;xx+=Tx)&#123;</span><br><span class="line">    for(intii=0;iii;Ni;ii+=Tii)</span><br><span class="line">      //-Original code-(excluding ii loop)</span><br><span class="line">      int yout =0;</span><br><span class="line">      for(inty=yy;y&lt;yy+Ty;y+=sy)&#123;</span><br><span class="line">        int xout = 0;</span><br><span class="line">        for(intx=xx;x&lt;xx+Tx;X+=SX)&#123;</span><br><span class="line">          for (int ii = iii ; i &lt; ii + Tii ; ii + = Ti )</span><br><span class="line">            for(inti=ii;i&lt;ii+Ti;i++)</span><br><span class="line">            value[i]=0;</span><br><span class="line">        for(intky=0;ky&lt;Ky;ky++)</span><br><span class="line">        for(intkx=0;kx&lt;Kx;kx++)</span><br><span class="line">        for(inti=ii;i&lt;ii+Ti;i++)</span><br><span class="line">        //version with average pooling;</span><br><span class="line">        value[i]+=neuron[ky+y][kx+x][i];</span><br><span class="line">        //version with max pooling;</span><br><span class="line">        value[i]=max(value[i],neuron[ky+y][kx+x][i]);</span><br><span class="line">      &#125;&#125;&#125;&#125;</span><br><span class="line">      //for average pooling;</span><br><span class="line">      neuron[xout][yout][i]=value[i]/(Kx*Ky);</span><br><span class="line">      xout++;&#125; yout++;</span><br><span class="line">&#125;&#125;&#125;</span><br></pre></td></tr></table></figure><center> <b>Figure 8.</b> <i>Pseudo-code for pooling layer (original loop nest + locality optimization).</i> </center><h2 id="4-Accelerator-for-Small-Neural-Networks-用于小型神经网络的加速器"><a href="#4-Accelerator-for-Small-Neural-Networks-用于小型神经网络的加速器" class="headerlink" title="4. Accelerator for Small Neural Networks | 用于小型神经网络的加速器"></a>4. Accelerator for Small Neural Networks | 用于小型神经网络的加速器</h2><p>&emsp;&emsp;在这一部分中，我们首先评估一种实现硬件神经网络加速器的“幼稚”和“贪婪”的方法，其中所有神经元和突触都在硬件中布局，内存仅用于输入行和存储结果。虽然这些神经网络可以潜在地达到最佳的能源效率，但我们表明它们是不可伸缩的。尽管如此，我们仍然使用这样的网络来研究可以合理地在硬件中实现的神经元的最大数量。</p><h3 id="4-1-Hardware-Neural-Networks-硬件神经网络"><a href="#4-1-Hardware-Neural-Networks-硬件神经网络" class="headerlink" title="4.1 Hardware Neural Networks | 硬件神经网络"></a>4.1 Hardware Neural Networks | 硬件神经网络</h3><p>&emsp;&emsp;将神经网络映射到硅上最自然的方法是完全布局神经元和突触，以便硬件实现与神经网络的概念表示相匹配，请参见图9。每个神经元都实现为逻辑电路，而突触实现为锁存器或RAM。这种方法最近已经用于基于感知器或尖峰的硬件神经网络[30，38]。它与一些嵌入式应用程序兼容，在这些应用程序中，神经元和突触的数量可以很少，而且它可以提供高速和低能量，因为数据传输的距离非常小：从一个神经元到下一层的神经元，以及从一个突触锁存器到相关的神经元。例如，90-10-10(90个输入，10个隐藏，10个输出)感知器[38]的执行时间为15 ns，比核心能量降低974倍。</p><div class="justified-gallery"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/b797bfe17935af8ee1496eee97bae183.png" alt=""><br><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/9e9225a65d3ea25d25f87feae12a766b.png" alt=""></p>          </div><h3 id="4-2-Maximum-Number-of-Hardware-Neurons-硬件神经元的最大数量？"><a href="#4-2-Maximum-Number-of-Hardware-Neurons-硬件神经元的最大数量？" class="headerlink" title="4.2 Maximum Number of Hardware Neurons ? | 硬件神经元的最大数量？"></a>4.2 Maximum Number of Hardware Neurons ? | 硬件神经元的最大数量？</h3><p>&emsp;&emsp;然而，面积、能量和延迟随神经元数量的增加呈二次曲线增长。我们综合了不同维度的神经网络层的ASIC版本，并在图10中报告了它们的面积、关键路径和能量。我们使用Synopsys ICC作为布局和布线，并使用TSMC 65 nm GP库，标准VT。硬件神经元执行以下操作：输入和突触相乘，所有这些相加，然后是S形，见图9。Tn×T1层是TN神经元的一层，每一层都有T1突触。16x16层需要小于0.71mm2，但32x32层已经需要2.66mm2。考虑到大规模神经网络的神经元数以千计，只有一层的完整硬件布局可能在数百或数千mm2的范围内，因此，这种方法对于大规模神经网络是不现实的。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/6c369217484589cced75f7fd7a4dfe4a.png" style="zoom:50%;" /></p><p>&emsp;&emsp;对于这样的神经网络，只有一小部分神经元和突触可以在硬件中实现。矛盾的是，旧的神经网络设计(如Intel ETANN[18])在20世纪90年代初就是这种情况，不是因为神经网络在当时已经很大，而是因为硬件资源(晶体管数量)自然要稀缺得多。其原理是分时扫描物理神经元，并使用片上RAM存储突触和隐藏层的中间神经元值。然而，在那个时候，许多神经网络都足够小，以至于所有的突触和中间神经元的值都可以在神经网络内存中ﬁt。由于这种情况已经不再是这样，大规模神经网络加速器设计的主要挑战之一已经成为计算和存储层次之间的相互作用。</p><h2 id="5-Accelerator-for-Large-Neural-Networks-用于大型神经网络的加速器"><a href="#5-Accelerator-for-Large-Neural-Networks-用于大型神经网络的加速器" class="headerlink" title="5. Accelerator for Large Neural Networks | 用于大型神经网络的加速器"></a>5. Accelerator for Large Neural Networks | 用于大型神经网络的加速器</h2><p>&emsp;&emsp;在这一部分中，我们借鉴第三节和第四节的分析，设计了一个适用于大规模神经网络的加速器。</p><p>&emsp;&emsp;加速器的主要部件如下：输入神经元的输入缓冲器(NBIN)，输出神经元的输出缓冲器(NBOUT)，以及第三个突触权重缓冲器(SB)，它们连接到我们称为神经功能单元(NFU)的计算块(执行突触和神经元计算)和控制逻辑(CP)，见图11。我们首先ﬁ下面描述NFU，然后我们集中讨论并解释加速器存储元件的原理。</p><h3 id="5-1-Computations-Neural-Functional-Unit-NFU-计算：神经功能单元-NFU"><a href="#5-1-Computations-Neural-Functional-Unit-NFU-计算：神经功能单元-NFU" class="headerlink" title="5.1 Computations: Neural Functional Unit (NFU) | 计算：神经功能单元(NFU)"></a>5.1 Computations: Neural Functional Unit (NFU) | 计算：神经功能单元(NFU)</h3><p>&emsp;&emsp;NFU的精神是将一层神经元分解成由<script type="math/tex">T_i</script>输入/突触和<script type="math/tex">T_n</script>输出神经元组成的计算块(ﬂblock)。这对应于用于ClassiﬁEr和卷积层两者的循环I和N，见图5和图7，并且对应于用于汇聚层的循环I，见图8。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/1819cb26021a4773df60bd5913227a49.png" style="zoom:50%;" /></p><p>&emsp;&emsp;<strong>算术运算符。</strong>每种图层类型的计算可以分2个阶段或3个阶段进行。对于Classiﬁer层：突触×输入的乘法，所有乘法的相加，S形。对于卷积层，级是相同的；最后一级(Sigmoid或其他非线性函数)的性质可以改变。对于池化层，没有乘法(没有突触)，并且池操作可以是平均值或最大值。请注意，加法器有多个输入，它们实际上是加法器树，见图11；第二级还包含用于合并层的移位器和最大运算符。</p><p>&emsp;&emsp;<strong>交错的管道。</strong>我们可以对所有2或3个操作进行流水线操作，但流水线必须交错：第一个或前两个阶段(分别用于池、分类器和卷积层)作为正常流水线级操作，但第三级仅在执行完所有添加之后才有效(对于分类器层和卷积层；对于池化层，在第三级中没有操作)。从现在开始，我们将NFU管道的第n阶段称为NFU-n。</p><p>&emsp;&emsp;<strong>NFU-3功能实现。</strong>如文献[23，38]所述，NFU-3(用于分类器和卷积层)的Sigmoid可以使用分段线性内插(<script type="math/tex">f(x)=a_i×x+b_i，x∈[x_i；x_{i+1}]</script>)有效地实现，精度损失可以忽略不计(16个段就足够了)[24]，见图9。就运算符而言，它对应于两个 16x1 16位多路复用器(用于段边界选择，即<script type="math/tex">x_i，x_{i+1}</script>)、一个16位乘法器(16位输出)和一个16位加法器来执行内插。16段系数(ai，bi)存储在小RAM中；这允许仅通过改变RAM段系数<script type="math/tex">a_i，b_i</script>来实现任何功能，而不仅仅是Sigmoid(例如，双曲正切、线性函数等)；段边界<script type="math/tex">(x_i，x_{i+1})</script>是硬连线的。</p><p>&emsp;&emsp;<strong>16位定点算术运算符。</strong>我们使用16位定点算术运算符，而不是字长(例如，32位)浮点运算符。虽然这看起来可能令人惊讶，但文献中有充分的证据表明，即使是更小的运算符(例如，8位或更少)对神经网络的准确性几乎没有影响[8，17，24]。为了说明和进一步支持ﬁRM这一概念，我们在UC Irvine机器学习存储库中的数据集上训练并测试了多层感知器，参见图12，在标准MNIST机器学习基准(手写数字)[27]上，参见表1，使用16位定点和32位浮点运算符；我们使用10倍交叉验证进行测试。对于定点运算符，整数部分使用6位，小数部分使用10位(我们在整篇文章中都使用这种定点配置)。结果如图12所示，在ﬁRm中，这种权衡对精度的影响非常小。目前我们保守地使用16位定点，但将来我们会探索更小的或可变大小的运算符。注意，算术运算符是截断的，即它们的输出是16位；我们使用具有校正常数的标准n位截断乘法器[22]。如表2所示，其面积比65 nm的32位浮点乘法器小6.10倍，功耗低7.33倍，CAD工具方法见第6节。</p><h3 id="5-2-Storage-NBin-NBout-SB-and-NFU-2-Registers-存储：NBIN、NBOUT、SB和NFU-2寄存器"><a href="#5-2-Storage-NBin-NBout-SB-and-NFU-2-Registers-存储：NBIN、NBOUT、SB和NFU-2寄存器" class="headerlink" title="5.2 Storage: NBin, NBout, SB and NFU-2 Registers | 存储：NBIN、NBOUT、SB和NFU-2寄存器"></a>5.2 Storage: NBin, NBout, SB and NFU-2 Registers | 存储：NBIN、NBOUT、SB和NFU-2寄存器</h3><p>&emsp;&emsp;加速器的不同存储结构可以被解释为便签本的修改过的(modiﬁ)缓冲器。虽然高速缓存是通用处理器的优秀存储结构，但由于高速缓存访问开销(标签检查、关联性、行大小、推测性读取等)和高速缓存冲突[39]，它是利用重用的次优方式。高效的替代方案，便签簿，在VLIW处理器中使用，但是众所周知，它很难编译。然而，专用加速器中的便签簿实现了这两个领域的最佳效果：高效的存储和高效且容易地利用本地，因为只有少数算法需要手动调整。在这种情况下，我们几乎可以直接将第3节中介绍的位置转换转换为缓冲区的映射命令，主要是调制平铺因子。第5.3.2节提供了一个代码映射示例。</p><p>&emsp;&emsp;下面我们解释加速器的存储部分是如何组织的，以及它克服了缓存体系结构的哪些限制。</p><h4 id="5-2-1-Split-buffers-拆分缓冲区"><a href="#5-2-1-Split-buffers-拆分缓冲区" class="headerlink" title="5.2.1 Split buffers | 拆分缓冲区"></a>5.2.1 Split buffers | 拆分缓冲区</h4><p>&emsp;&emsp;如前所述，我们将存储划分为三个结构：输入缓冲区(NBIN)、输出缓冲区(NBOUT)和突触缓冲区(SB)。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/98205d0b2c5bc02c47567dc3a634c0bd.png" style="zoom:50%;" /></p><p><em>&emsp;&emsp;宽度。</em>拆分结构的第一个好处(ﬁt)是将SRAM调整为适当的读/写宽度。NBIN和NBOUT的宽度均为<script type="math/tex">T_n×2</script>字节，而SB的宽度为<script type="math/tex">T_n×T_n×2</script>字节。单个读取宽度大小(例如，与高速缓存线大小一样)将是较差的折衷。如果将其调整为突触，即如果行大小为<script type="math/tex">T_n×T_n×2</script>，则从<script type="math/tex">T_n×T_n×2</script>宽的数据库中读取<script type="math/tex">T_n×2</script>字节会产生显著的能量损失，见图13，图13显示了65 nm处TSMC工艺的SRAM读取能量作为存储体宽度的函数。如果将行大小调整为神经元，即如果行大小为<script type="math/tex">T_n×2</script>，则读出<script type="math/tex">T_n×T_n×2</script>字节具有显著的时间代价。将存储拆分为专用结构允许为每个读取请求获得最佳时间和精力。</p><p><em>&emsp;&emsp;冲突。</em>分割存储结构的第二个好处(ﬁt)是避免将在高速缓存中发生的冲突。这一点尤其重要，因为出于成本和能源(泄漏)的原因，我们希望使存储结构的尺寸保持较小。另一种解决方案是使用高度关联的高速缓存。考虑这些约束：高速缓存线(或端口数)需要很大(<script type="math/tex">T_n×T_n×2</script>)才能以高速率为突触提供服务；由于我们希望保持较小的高速缓存大小，因此容忍如此长的高速缓存线的唯一替代方案是高关联性。然而，在n路高速缓存中，通过推测性地并行读取所有n路/存储体来实现快速读取；结果，关联高速缓存的能量成本迅速增加。即使从8路关联32KB高速缓存读取64字节的能量也比从65 nm的直接映射高速缓存读取32字节的能耗高3.15倍；使用Cacti[40]进行测量。即使只有64字节行，Corei7的一级32KB数据高速缓存也已经是8路关联的，因此我们需要更大的关联性来处理非常大的行(对于<script type="math/tex">T_n=16</script>，行大小将是512字节长)。换句话说，在我们的情况下，高度关联的高速缓存将是一种昂贵的能源解决方案。拆分式存储和对本地行为的精确了解允许完全消除数据冲突。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/2c8065ac458d6067ce2a98e12e644059.png" style="zoom:80%;" /></p><h4 id="5-2-2-Exploiting-the-locality-of-inputs-and-synapses-利用输入和突触的局部性。"><a href="#5-2-2-Exploiting-the-locality-of-inputs-and-synapses-利用输入和突触的局部性。" class="headerlink" title="5.2.2 Exploiting the locality of inputs and synapses. | 利用输入和突触的局部性。"></a>5.2.2 Exploiting the locality of inputs and synapses. | 利用输入和突触的局部性。</h4><p><strong>&emsp;&emsp;DMA。</strong>为了利用空间局部性，我们实现了三个DMA，每个缓冲区一个(两个加载DMA，一个用于输出的存储DMA)。DMA请求以指令的形式向NBIN发出，稍后将在第5.3.2节中介绍。这些请求缓存在与每个缓冲区相关的单独FIFO中，请参见图11，一旦DMA发送了前一条指令的所有内存请求，它们就会立即发出。这些DMA请求FIFO可使向所有缓冲区和NFU发出的请求与当前缓冲区和NFU操作解耦。因此，只要有足够的缓冲区容量，就可以提前很长时间预加载DMA请求，以容忍较长的延迟；这种预加载类似于预取，尽管没有推测。由于NBIN(和SB)同时用作重复使用和预加载缓冲区的便签簿，因此我们使用双端口SRAM；TSMC 65 nm库将64条目NB的双端口SRAM的读取能量开销评为24%。</p><p>&emsp;&emsp;<strong>旋转NBIN缓冲器，</strong>用于输入神经元的临时重用。所有层的输入被分割成块，这些块在nbin中被ﬁt，并通过实现nbin作为循环缓冲区来重用。实际上，轮换是通过改变寄存器索引自然实现的，很像在软件实现中，不存在缓冲器条目的物理(和昂贵的)移动。</p><p><strong>&emsp;&emsp;NBIN中的局部转置用于合并图层。</strong>对于(输入)神经元的数据结构组织，在卷积层和池层之间存在张力。如前所述，Kx，Ky通常很小(通常小于10)，而Ni大约大一个数量级。因此，使用输入特征映射作为三维神经元数据结构的最内层索引，内存获取效率更高(大跨度-1访问)。然而，这对于合并图层是不方便的，因为每个输入特征地图计算一个输出，即，仅使用K x×Ky数据(而在卷积图层中，计算一个输出数据需要所有K x×K y×Ni数据)。因此，对于池化层，逻辑数据结构组织是将kx，ky作为最里面的维度，以便计算一个输出所需的所有输入都连续地存储在NBIN缓冲器中。我们通过在NBIN中引入映射函数来解决此问题，该映射函数具有本地调换循环k y、k x和循环i的效果，以便数据沿着循环i加载，但它存储在NBIN中，因此首先沿着循环k y、k x发送到NFU；这是通过在加载时交错NBIN中的数据来实现的，请参见图14。</p><p>&emsp;&emsp;对于突触和SB，如第3节所述，要么没有重用(分类器层、具有私有内核的卷积层和池层)，要么在卷积层中重用共享内核。对于OUTPUT和NBOUT，我们需要重用部分和，即参见图5中的参考SUM[n]。此重用需要下一节所述的额外硬件修改ﬁ阳离子。</p><h4 id="5-2-3-Exploiting-the-locality-of-outputs-利用输出的局部性"><a href="#5-2-3-Exploiting-the-locality-of-outputs-利用输出的局部性" class="headerlink" title="5.2.3 Exploiting the locality of outputs. | 利用输出的局部性"></a>5.2.3 Exploiting the locality of outputs. | 利用输出的局部性</h4><p>&emsp;&emsp;在分类器层和卷积层，对于NBIN中包含的一组输入神经元，计算Tn个输出神经元的部分输出和。然后，输入神经元被用于另一块Tn输出神经元，等等。这就产生了两个问题。</p><p>&emsp;&emsp;<strong>专用寄存器。</strong>首先，虽然输入神经元的块是从NBIN加载并用于计算部分和的，但是让部分和离开NFU流水线，然后为NBIN缓冲器的每个条目将其重新加载到流水线中将是低效的，因为数据传输是能量消耗的主要来源[14]。因此，我们在NFU-2中引入了专用寄存器来存储部分和。</p><p>&emsp;&emsp;<strong>循环缓冲区。</strong>其次，一个更复杂的问题是，当NBIN中的输入神经元被重新用于一组新的Tn输出神经元时，如何处理Tn部分和。我们不是将这些Tn部分和发送回内存(稍后在下一块输入神经元加载到NBIN时重新加载它们)，而是暂时将它们轮换出到NBOUT。先验地，这是nbout的冲突角色，nbout还用于存储要写回内存(写缓冲区)的最终输出神经元。但在实践中，只要没有将所有输入神经元都整合到部分和中，NBout就是空闲的。因此，我们可以通过将Tn部分和轮换到NBout来将其用作临时存储缓冲区，如图11所示。自然，在输出神经元上迭代的循环必须平铺，以便同时计算其部分和的输出神经元不会超过NBout的容量，但这是通过类似于图5和图7中的循环nnn的二级平铺来实现的。因此，NBout不仅连接到NFU-3和存储器，而且还连接到NFU-2：NBout的一个条目可以加载到NFU-2的专用寄存器中，并且这些寄存器可以存储在NBout中。</p><h3 id="5-3-Control-and-Code-控件和代码"><a href="#5-3-Control-and-Code-控件和代码" class="headerlink" title="5.3 Control and Code | 控件和代码"></a>5.3 Control and Code | 控件和代码</h3><h4 id="5-3-1-CP"><a href="#5-3-1-CP" class="headerlink" title="5.3.1 CP"></a>5.3.1 CP</h4><p>&emsp;&emsp;在本节中，我们将介绍加速器的控制。控制的一种方法是硬连线三个目标层。虽然这仍然是未来的一个选择，但目前，我们已经决定使用控制指令来探索层的不同实现(例如，分区和调度)，并为机器学习研究人员提供尝试不同层实现的灵活性。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/c0d8057af0589c4498f459f34159c86e.png" style="zoom:80%;" /></p><p>&emsp;&emsp;一层执行被分解成一组指令。粗略地说，一条指令对应于分类器层和卷积层的环路II，i，n，见图5和7，以及池层中的环路II，i(使用第5.2.3节所述的交织机制)，见图8。指令存储在与控制处理器(CP)相关的SRAM中，见图11。CP驱动三个缓冲器和NFU的DMA的执行。术语“处理器”只涉及前面提到的“指令”，稍后将在第5.3.2节中介绍，但它几乎没有处理器的传统功能(主要是一台PC和一个用于循环索引和地址计算的加法器)；从硬件的角度来看，它更像是一个可配置的FSM。</p><h4 id="5-3-2-Layer-Code-图层代码"><a href="#5-3-2-Layer-Code-图层代码" class="headerlink" title="5.3.2 Layer Code. | 图层代码"></a>5.3.2 Layer Code. | 图层代码</h4><p>&emsp;&emsp;每条指令都有对应于CP本身、三个缓冲器和ﬁ的NFUVE槽，参见表3。</p><p>&emsp;&emsp;因为有CP指令，所以需要代码生成，但在我们的例子中，编译器就太过分了，因为只需要生成三种主要类型的代码。因此，我们为这三层实现了三个专用的代码生成器。在表4中，我们给出了一个为分类器/感知器层生成的代码示例。由于Tn=16(每缓存行16×16位数据)，并且NBIN有64行，所以它的容量是2KB，所以它不能包含所有的输入神经元(Ni=8192，所以16KB)。结果，代码被分解为在2KB的块上操作；注意，NBIN的第一条指令是LOAD(从存储器中取出的数据)，并且它被标记为重用(紧接在加载之后的标志)；下一条指令是READ，因为这些输入神经元在缓冲器中被旋转用于Tn神经元的下一块，并且READ也被标记为被重用，因为有8个这样的旋转(16KB2KB)；同时，请注意，第一条(和下一条)指令的NFU-2输出为NBOUT，即部分输出神经元和旋转为NBOUT，如第5.2.3节所述，这就是NBOUT指令为WRITE的原因；另请注意，NFU-2的输入已复位(第一块输入神经元，寄存器复位)。最后，当最后一块输入神经元被发送时(表中的最后一条指令)，NBout的(存储)DMA被设置为写入512字节(256个输出)，并且NBout指令被存储；下一条指令的NBout写入操作将是NOP(在第一个块设置DMA，并自动将数据存储回存储器，直到DMA结束)。</p><p>&emsp;&emsp;注意，该体系结构可以实现每个图像或批处理[41]，只有生成的层控制代码会改变。</p><h2 id="6-Experimental-Methodology-实验方法论"><a href="#6-Experimental-Methodology-实验方法论" class="headerlink" title="6. Experimental Methodology | 实验方法论"></a>6. Experimental Methodology | 实验方法论</h2><p><strong>&emsp;&emsp;尺寸。</strong>我们使用三种不同的工具来测量性能/能量。</p><p>&emsp;&emsp;<em>加速器模拟器。</em>我们实现了加速器结构的自定义周期精确度、位精确度的C++模拟器，最初用于架构探索，后来用作Verilog实现的规范。该模拟器还用于测量循环次数的时间。它被插入到允许高达250 Gb/s带宽的主内存模型中。</p><p>&emsp;&emsp;<em>CAD工具。</em>对于面积、能量和关键路径延迟(周期时间)测量，我们实现了一个Verilog版本的加速器，我们首先使用Synopsys Design Compiler使用TSMC 65 nm GP标准VT库进行合成，然后使用Synopsys ICC编译器进行放置和布线。然后，我们使用Synopsys VCS对设计进行了仿真，并使用黄金时间px估计了功耗。</p><p>&emsp;&emsp;<em>SIMD。</em>对于SIMD基线，我们使用GEM5+McPAT[28]组合。我们使用4个问题的超标量x86内核，带有128位(8×16位)SIMD单元(SSE/SSE2)，时钟频率为2 GHz。内核具有192个条目的ROB和64个条目的加载/存储队列。一级数据(和指令)高速缓存为32KB，二级高速缓存为2MB；这两个高速缓存均为8路联合高速缓存，并使用64字节线；这些高速缓存特性与英特尔酷睿i7的高速缓存特性相对应。到L2的L1未命中等待时间为10个周期，到存储器的L2未命中等待时间为250个周期；存储器总线宽度为256位。通过使用McPAT提供的数据(例如，256位读取存储器访问的能量成本为17.6nJ)，我们已经对加速器和模拟器的主存储器访问的能量成本进行了调整。</p><p>&emsp;&emsp;我们实现了不同层代码的SIMD版本，如第3节所述，我们手动调优了它的局部性(对于每一层，我们执行随机探索以找到好的平铺因子)；我们使用DEFAULT-O优化级别编译这些程序，但内部循环是用汇编语言编写的，以最大限度地利用SIMD单元。为了评估SIMD内核的性能，我们还实现了下面给出的不同基准层的标准C++版本，平均(几何平均值)，我们观察到SIMD内核的执行时间是x86内核的3.92倍，能耗是x86内核的3.74倍。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/27ecfca0fbd9e0a181a7e43b4ede545e.png" style="zoom:50%;" /></p><p><strong>&emsp;&emsp;基准。</strong>对于基准，我们选择了几个最新的大型神经网络结构中最大的卷积、汇集和/或分类器层。表5显示了这10个层的特征以及相关神经网络和任务的描述。</p><h2 id="7-Experimental-Results-实验结果"><a href="#7-Experimental-Results-实验结果" class="headerlink" title="7. Experimental Results | 实验结果"></a>7. Experimental Results | 实验结果</h2><h3 id="7-1-Accelerator-Characteristics-after-Layout-布局后的加速器特性"><a href="#7-1-Accelerator-Characteristics-after-Layout-布局后的加速器特性" class="headerlink" title="7.1 Accelerator Characteristics after Layout | 布局后的加速器特性"></a>7.1 Accelerator Characteristics after Layout | 布局后的加速器特性</h3><p>&emsp;&emsp;当前版本使用Tn=16(16个硬件神经元，每个具有16个突触)，因此该设计在NFU-1中包含256个16位截断乘法器(用于分类器和卷积层)，在NFU-2中包含16个加法器树，每个加法器包含15个加法器(对于相同的层，如果使用平均值，则加上合并层)，以及NFU-2中的16输入移位器和最大值(用于合并层)，以及16位截断乘法器加上NFU-3中的16个加法器(用于分类器和卷积层，以及可选的用于合并层)。对于分类器和卷积层，NFU-1和NFU-2每个周期都是活动的，每个周期实现256+16×15=496次定点运算；在0.98 GHz，这相当于452 GOP/s(每秒千兆定点运算)。在层的末尾，当NFU-1和NFU-2处理剩余数据时，NFU-3也将处于活动状态，在短时间内达到496+2×16=528次/周期(482GOP/s)的峰值活动。</p><p>&emsp;&emsp;我们使用Synopsys工具完成了65 nm处Tn=16和64入口缓冲器的综合和布局，见图15。主要特性和按元件类型和功能块细分的功耗/面积如表6所示。我们通过在NFU-1(乘法器)、NFU-2(加法器树)和NFU-3(分段线性函数近似)中引入3级流水线，将关键路径延迟降至1.02 ns，共8个流水线级。在NFU-1(乘法器)、NFU-2(加法器树)和NFU-3(分段线性函数近似)中引入3级流水线，使关键路径延迟降至1.02 ns。目前，关键路径在负责从NBIN/NBOUT中读取数据的问题逻辑中；下一个版本将重点介绍如何减少或输送此关键路径。总RAM容量(NBIN+NBOUT+SB+CP指令)为44KB(CP RAM为8KB)。面积和功耗分别由缓冲器(NBIN/NBOUT/SB)控制，分别为56%和60%，NFU紧随其后，分别为28%和27%。小区总功率的百分比为59.47%，但路由网络(包括在表细分的不同组成部分中)在总功率中所占的比例很大，为38.77%。在65 nm处，由于加速器的高翻转率，漏功率在1.73%几乎可以忽略不计。</p><p>&emsp;&emsp;最后，我们还评估了Tn=8的设计，因此在NFU-1中有64个乘法器。该设计的总面积为0.85mm2，即由于缓冲器宽度减小和算术运算符数量减少，比Tn=16小3.59倍。我们计划在不久的将来研究Tn=32或64的更大的设计。</p><h3 id="7-2-Time-and-Throughput-时间和吞吐量"><a href="#7-2-Time-and-Throughput-时间和吞吐量" class="headerlink" title="7.2 Time and Throughput | 时间和吞吐量"></a>7.2 Time and Throughput | 时间和吞吐量</h3><p>&emsp;&emsp;在图16中，我们报告了加速器在SIMD上的加速比，请参阅SIMD/ACC。回想一下，我们使用的是128位SIMD处理器，因此每个周期能够执行多达8个16位操作(我们在SIMD中自然也使用16位定点操作)。如7.1节所述，加速器每个周期为分类器层和卷积层执行496次16位操作，即比SIMD内核多62倍(4968)。我们经验地观察到，在这两种类型的层上，加速器的速度平均是SIMD核的117.87倍，因此比计算运算符的比率(62倍)高出约2倍。我们测量到，对于分类器层和卷积层，SIMD内核平均每个周期执行2.01个16位运算，而不是每个周期8个运算的上限。我们将其追溯到两个主要原因。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/7d966085beb97ba46a799eff95dc25f6.png" style="zoom:80%;" /></p><p>&emsp;&emsp;首先，NBIN和SB缓冲区中的预加载和重用的适当组合带来了更好的延迟容忍度；请注意，我们没有在SIMD内核中实现预取器，这将在一定程度上弥补这一差距。这解释了具有最大特征地图大小的层1、类3和层5的高性能差距，这些层具有最大的特征地图大小，因此具有最大的空间局部性，从而使ﬁ从预加载中受益最大，从而使它们的性能提升平均为629.92倍，大约是其他卷积层的3倍；我们预计SIMD核中的预取器将抵消这种性能提升。DMA沿着输入特征映射维度利用NBIN中的空间局部性，并且对于较小的NI，DMA必须发出许多短内存请求，这降低了效率。其余卷积层(CONV1到CONV4)的平均加速比为195.15倍；由于私有内核和较小的空间局部性，CONV2的性能较差(130.64倍)。由于仅使用NFU-2中的加法器树(496个运算符中有240个运算符)，POOL3和POOL5分别使用25.73x和25.52x，因此池化层的整体性能较低。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/fb0b51cd8dd03c9318aa6252f12930e0.png" style="zoom:80%;" /></p><p>&emsp;&emsp;为了进一步分析POOL1的相对较差的行为(仅为SIMD的2.17倍)，我们测试了加速器的一种配置，其中所有操作数(输入和突触)都为NFU做好了准备，即NBIN、SB和NBOUT的理想行为；我们称此版本为“理想”，参见图16。我们看到，POOL1和CONV2上的加速器明显慢于理想配置(分别为66.00x和16.14x)。这是由于它们的输入/输出特征映射的大小较小(例如，对于POOL1，N1=12)，并且用于POOL1的运算符较少。到目前为止，加速器面向的是大型层，但我们可以通过实现2D或3D DMA(<script type="math/tex">i, k_x, k_y</script>循环上的DMA请求)来解决这一弱点；我们将此优化留到以后的工作中。</p><p>&emsp;&emsp;SIMD的加速比超过62倍的第二个原因在于控制和调度开销。在加速器中，我们试图将丢失的周期降到最低。例如，当输出神经元部分和旋转到NBOUT(在发送回NFU-2之前)时，最旧的缓冲行(<script type="math/tex">T_n</script>部分和)会急切地向外旋转到NBOUT/NFU-2输入锁存器，并且NFU-2中的多路复用器确保此锁存器或NFU-2寄存器用作NFU-2级计算的输入；这允许在没有任何流水线停滞的情况下旋转。几个这样的设计优化帮助实现了仅比理想加速器慢4.36倍的速度，参见图16，事实上，只有在不包括CONV2和POOL1的情况下，慢速才是2.64倍。</p><h3 id="7-3-Energy-能源"><a href="#7-3-Energy-能源" class="headerlink" title="7.3 Energy | 能源"></a>7.3 Energy | 能源</h3><p>&emsp;&emsp;在图17中，我们提供了SIMD内核和加速器之间的能量比。虽然平均能量比高达21.08x，但实际上比之前报道的处理器和加速器之间的能量比小了一个数量级以上；例如，Hameed等人。[14]报告能量比约为500x，小型多层感知器的能量比为974x[38]。较小的比率很大程度上是由于在存储器访问上花费的能量，这一点在上述两项研究中自愿没有考虑在内。与这两个加速器和其他加速器一样，通过更高效的计算运算符(特别是在我们的例子中，大量小型16位定点截断乘法器)和靠近运算符的小型自定义存储(64条目NBIN、NBOUT、SB和NFU-2寄存器)的组合，计算的能源成本已大大降低。因此，现在存在能量的Amdahl定律效应，只有通过降低主存储器访问的能量成本才能实现任何进一步的改进。我们试图人为地将SIMD和加速器中的主存储器访问的能量成本设置为0，我们观察到加速器的平均能量降低增加了一个数量级以上，与之前的结果一致。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2020/10/17/db74b50ece48eb0264aad2b6509886eb.png" style="zoom:67%;" /></p><p>&emsp;&emsp;图18中加速器消耗的能量细目进一步说明了这一点，其中主存储器访问的能量显然占主导地位。一个遥远的第二个是具有共享核(CONV1，CONV3，CONV4)的卷积层的NBIN/NBOUT的能量。在这种情况下，一组共享内核保留在SB中，因此由于突触导致的内存流量变得非常低，如第3节(共享内核+平铺)中所解释的，但是仍然必须为每组新的共享内核重新加载输入神经元，因此仍然存在明显的能量消耗。池化层(POOL1、POOL3、POOL5)中的计算逻辑的能量同样是一个遥远的第二开销，这一次是因为没有要加载的突触。池层的能耗降低稍高(平均为22.17倍)，参见图17，这是由于未使用SB缓冲区(无突触)，而且由于NBIN的宽度较小，单独访问NBIN的成本相对较低，参见图13。</p><p>&emsp;&emsp;SIMD的能量细分形成鲜明对比，如图19所示，大约三分之二的能量花在计算上，只有三分之一的能量花在存储器访问上。虽然找到一种计算效率更高的SIMD方法是有意义的，但加速器未来的工作应该集中在减少内存访问所花费的能量上。</p><h2 id="8-Related-Work-相关工作"><a href="#8-Related-Work-相关工作" class="headerlink" title="8. Related Work | 相关工作"></a>8. Related Work | 相关工作</h2><p>&emsp;&emsp;由于严格的能源限制，如Dark Silicon[10，32]，越来越多的人一致认为，未来的高性能微体系结构将采用异构多核的形式，即核和加速器的组合。加速器的范围可以从针对某些任务调谐的处理器到诸如H264[14]的类似ASIC的电路，或者能够针对广泛但不是所有任务[12，44] 诸如QsCores[42]的更灵活的加速器，或者用于图像处理[33]的加速器。</p><p>&emsp;&emsp;本文中提出的加速器遵循了这种精神，即针对特定但广泛的领域，即这里的机器学习任务。由于机器学习的最新进展，某些类型的神经网络，特别是深度神经网络[25]和卷积神经网络[27]，已经在诸如网络搜索[19]、图像分析[31]或语音识别[7]的广泛应用中成为最先进的机器学习技术[26]。</p><p>&emsp;&emsp;虽然在过去的二十年里已经研究了许多硬件神经元和神经网络的实现[18]，但是硬件神经网络的主要目的是快速建模生物神经网络[20，34]，以实现具有数千个连接的神经元。虽然这些神经形态结构中有几个已经应用于计算任务[30，43]，但它们所依赖的特定生物启发信息表示(尖峰神经网络)可能无法与最先进的神经网络竞争，尽管这在神经科学和机器学习之间仍然是一个开放的辩论。</p><p>&emsp;&emsp;然而，最近，由于应用、机器学习和技术限制的同步趋势，硬件神经网络已经越来越多地被认为是潜在的加速器，要么是用于处理器内非常专用的功能，如分支预测[1]，要么是因为它们的容错特性[15，38]。后一种特性也被用来通过硬件神经处理单元[9，11]来交换应用程序的准确性以换取能效[9，11]。</p><p>&emsp;&emsp;我们的加速器的重点是大规模的机器学习任务，有数千层神经元和数百万个突触，因此特别强调与记忆的互动。我们的研究不仅与ﬁRMS以前观察到的专用存储是实现良好性能和功耗的关键[14]相反，而且它还强调，除了在靠近计算运算符的寄存器级别利用局部性[33，38]之外，将内存视为素数阶考虑可以深刻地影响加速器设计。</p><p>&emsp;&emsp;前面提到的许多研究都源于架构界。一项对称的努力已经在机器学习领域开始了，在那里，一些研究人员一直在研究加速神经网络处理的硬件设计，特别是对于实时应用。NeuFlow[13]是用于视觉系统的CNN前馈路径的快速和低功耗实现的加速器。它根据卷积层和池层的滑动窗口特性来组织计算和寄存器级存储，但在这方面，它也忽略了来自输入和输出特征映射的大部分一阶局部性。虽然DMA能够执行复杂的访问模式，但它与存储器的相互作用仍然局限于DMA，没有重要的片上存储。Kim等人提出了一种更复杂的架构，尽管其性能与NeuFlow相似。[21]并且由128个SIMD处理器组成，每个处理器16个PE；该体系结构明显更大，并且实现了特定的神经视觉模型(既不是CNN也不是DNNs)，但是它可以实现多达10个不同对象的60帧/秒(实时)多对象识别。Maashri等人。[29]还研究了另一种神经网络模型—用于视觉处理的仿生HMAX模型的实现，该模型使用一组布置在交换结构周围的自定义加速器；在文章中，作者提到了跨不同方向的局部性优化，其大致相当于特征映射的HMAX。Chakradhar等人再次接近我们的社区，但只关注CNNs。[3]还研究了CNN在可重构电路上的实现，虽然对局部性开发的重视较少，但为了提高带宽利用率，他们特别注意对CNN进行适当的映射。</p><h2 id="9-结论"><a href="#9-结论" class="headerlink" title="9.结论"></a>9.结论</h2><p>&emsp;&emsp;在本文中，我们将重点放在机器学习的加速器上，因为加速器的应用范围很广，而且很少有关键的最先进的算法，这为将高效率和广泛的应用范围结合起来提供了难得的机会。由于最先进的CNN和DNN意味着非常大的网络，我们特别关注大规模层的实现。通过仔细利用这些层的局部性属性，并通过引入定制设计的存储结构来利用这些属性，我们展示了在非常小的占地面积内设计能够高性能的机器学习加速器是可能的。我们的测量结果并不局限于加速器结构，它们将主内存传输的性能和能量开销考虑在内；不过，我们表明，在采用普通高速缓存层次结构的128位2 GHz SIMD内核上，可以实现117.87倍的加速比和21.08倍的能耗降低。我们已经得到了65 nm的设计版图。</p><p>&emsp;&emsp;除了计划的磁带输出之外，未来的工作还包括改进短层的加速器行为、略微更改NFU以包括一些最新的算法改进，如本地响应标准化、进一步降低主内存传输的影响、调查可伸缩性(特别是增加<script type="math/tex">T_n</script>)，以及实施硬件培训。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="论文翻译" scheme="https://rhythmlian.cn/categories/%E8%AE%BA%E6%96%87%E7%BF%BB%E8%AF%91/"/>
    
    
    <category term="机器学习" scheme="https://rhythmlian.cn/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>通过云服务器实现远程登录内网服务器</title>
    <link href="https://rhythmlian.cn/2020/08/18/ssh-to-intranet/"/>
    <id>https://rhythmlian.cn/2020/08/18/ssh-to-intranet/</id>
    <published>2020-08-18T12:14:58.000Z</published>
    <updated>2020-08-18T12:14:58.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>相信总会有小伙伴苦恼如何登录上公司或学校的内网服务器，为了解决这个问题我近期也是踩了不少坑，终于有一套方案是可行的。</p><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://shop.io.mi-img.com/app/shop/img?id=shop_100be6e5044612dfdad634a7335b6cd8.png" alt=""></p><p>如图，我们的目的是从<code>D</code>连接到<code>A</code>，但是由于<code>A</code>在内网中，并不具备公网ip，因此实际上<code>D</code>无法主动建立<code>D-&gt;B-&gt;A</code>的通路。但是还有一种方案是：</p><ul><li><code>A</code>主动建立<code>A-&gt;B-&gt;C</code>的双向通路</li><li><code>D</code>主动建立<code>D-&gt;C</code>的双向通路</li><li><code>C</code>负责转发来自<code>A-&gt;B-&gt;C</code>和<code>D-&gt;C</code>的数据</li></ul><p>这样，我们建立起来了<code>A&lt;-&gt;B&lt;-&gt;C&lt;-&gt;D</code>的通路。</p><h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><ol><li>一台你的具备公网ip的服务器</li><li>两台可能都在内网的电脑、服务器</li></ol><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="配置公网服务器"><a href="#配置公网服务器" class="headerlink" title="配置公网服务器"></a>配置公网服务器</h3><ol><li><p>首先，开放一个公网服务器的空闲端口，假设为<code>8022</code></p></li><li><p>修改<code>/etc/ssh/sshd_config</code>中<code>GatewayPorts</code>、<code>AllowAgentForwarding</code>为<code>yes</code>，并重启<code>sshd</code>服务：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure></li><li><p>从防火墙 | 路由表开放<code>8022</code>端口：</p><ul><li>如果使用<code>firewall</code>:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld</span><br><span class="line">firewall-cmd --add-port=8022/tcp --permanent</span><br><span class="line">firewall-cmd --add-port=8022/udp --permanent</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --zone=public --query-port=8022/tcp</span><br></pre></td></tr></table></figure><ul><li>如果使用<code>iptables</code>:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iptables -A INPUT -p udp -d 0/0 -s 0/0 --dport 8022  -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp -d 0/0 -s 0/0 --dport 8022  -j ACCEPT</span><br><span class="line">netfilter-persistent save</span><br><span class="line">netfilter-persistent reload</span><br></pre></td></tr></table></figure></li></ol><h3 id="建立SSH隧道"><a href="#建立SSH隧道" class="headerlink" title="建立SSH隧道"></a>建立SSH隧道</h3><ol><li><p>在需要被访问的内网服务器上执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nohup ssh -fR 8022:127.0.0.1:内网服务器SSH端口 root@远程服务器IP -p 远程服务器SSH端口 &quot;vmstat 30&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 内网服务器SSH端口默认值: 22</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 远程服务器SSH端口默认值: 22</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> vmstat 30 是防止远程服务器主动断开长时间未通信的链接</span></span><br></pre></td></tr></table></figure></li><li><p>可能需要输入密码建立连接</p></li></ol><h3 id="登录内网服务器"><a href="#登录内网服务器" class="headerlink" title="登录内网服务器"></a>登录内网服务器</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 8022 内网用户名@公网服务器IP</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/tags/%E6%94%BB%E7%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>将静态博客托管到腾讯云</title>
    <link href="https://rhythmlian.cn/2020/08/15/deploy-blog-on-tencentcloud/"/>
    <id>https://rhythmlian.cn/2020/08/15/deploy-blog-on-tencentcloud/</id>
    <published>2020-08-15T13:09:33.000Z</published>
    <updated>2020-08-15T13:09:33.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>为什么要将静态博客托管到腾讯云呢？</p><ol><li>依赖于良心云Serverless以及cdn技术可以大幅加快国内的访问速度；</li><li>对比coding page以及GitHub page，尽管良心云托管静态网站并不是完全免费的，但对于小规模流量的静态博客来讲几乎是白嫖；（关键是它快呀.jpg</li></ol><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol><li>你的静态博客的前端内容，比如<code>hexo</code>框架下，前端内容是<code>public</code>文件夹下的全部内容</li><li>一个可用的域名（否则无法使用cdn）</li><li>一个腾讯云账号</li><li>npm环境</li></ol><h2 id="安装命令工具cloudbase"><a href="#安装命令工具cloudbase" class="headerlink" title="安装命令工具cloudbase"></a>安装命令工具<code>cloudbase</code></h2><p>为了用户们能更好的利用良心云的serverless服务，良心云提供了个<code>cloudbase</code>的SDK，安装方法如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @cloudbase/cli</span><br></pre></td></tr></table></figure><p>如果你遇到了权限问题，可以考虑：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g @cloudbase/cli</span><br></pre></td></tr></table></figure><p>完成命令后如果没有错误提示，代表安装成功，你可以采用如下命令验证：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudbase -v</span><br></pre></td></tr></table></figure><p>看到有版本号输出则说明安装成功。（<code>tcb</code>命令与<code>cloudbase</code>命令等价）</p><p>在正式使用<code>cloudbase</code>前，你需要进行登录：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcb login</span><br></pre></td></tr></table></figure><h2 id="静态托管"><a href="#静态托管" class="headerlink" title="静态托管"></a>静态托管</h2><h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p>良心云连续两月每月赠送<code>5GB</code>流量和<code>1G</code>的存储空间用于托管静态网站（对于普通用户足够了），你可以通过<a href="https://console.cloud.tencent.com/tcb/hosting/index">链接</a>创建你的<code>静态网站托管</code>项目，成功后，左上角会有一串id用来独立标识你的静态网站项目（你需要将它保存）。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/ffd20001bc2a12095e46" alt=""></p><p>通过<code>命令行/终端</code>进入你的静态网站内容所在的文件夹，并运行如下命令将内容上传至腾讯云：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudbase hosting:deploy hosting -e [你刚刚保存的id]</span><br></pre></td></tr></table></figure><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><p>点击腾讯云控制台左上角的<code>基础配置</code>，可以看到：</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/137a60001055423200cbd" alt=""></p><p>点击<code>添加域名</code>，并填入你的域名（注意，由于腾讯云需要支持https访问，因此你需要具备一个SSL证书，如果你没有，你可以通过腾讯云免费申请）。完成后，进入你的域名配置，添加一条<code>CNAME</code>解析记录，并将值填为上图中<code>CNAME下显示的地址</code>，等待几分钟即可。绑定成功后，<code>状态</code>下将显示<code>已启动</code>。</p><p>至此，你已经完成了将静态博客托管到腾讯云（容易的一批）；通过你设置的域名即可访问静态博客了。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/tags/%E6%94%BB%E7%95%A5/"/>
    
  </entry>
  
  <entry>
    <title>QuickStart_Rhy中文文档</title>
    <link href="https://rhythmlian.cn/2020/08/09/QuickStart-Rhy-zh/"/>
    <id>https://rhythmlian.cn/2020/08/09/QuickStart-Rhy-zh/</id>
    <published>2020-08-08T19:31:58.000Z</published>
    <updated>2020-08-08T19:31:58.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><strong><a href="/2020/02/14/QuickStart-Rhy/">English Document</a> | 中文文档 </strong></p><hr><div class="tip faa-bounce animated"><div class="img-wrap"><div class="img-bg"><img class="img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/26/3ac51e6386ab10e4ce4cffe294162d2a.png"/></div></div><center>qs 运行</center></div><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><details ><summary> 点此获取安装文档 </summary>              <div class='content'>              <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install quickstart-rhy [--upgrade]</span><br></pre></td></tr></table></figure><h3 id="qs的配置表：-qsrc"><a href="#qs的配置表：-qsrc" class="headerlink" title="qs的配置表：.qsrc"></a>qs的配置表：<code>.qsrc</code></h3><ul><li>自qs 0.3.0版本起，当您初次安装QuickStart_Rhy并通过命令运行<code>qs</code>时，<code>qs</code>将在如下位置生成qs的配置表<code>.qsrc</code></li></ul><div class="table-container"><table><thead><tr><th>系统</th><th>位置</th></tr></thead><tbody><tr><td>Windows</td><td>C:\Users\<code>你的用户名</code>\.qsrc</td></tr><tr><td>*nix</td><td>/Users/<code>你的用户名</code>/.qsrc 或 /root/.qsrc</td></tr></tbody></table></div><ul><li><code>.qsrc</code>是以json格式存储的配置表，当它初次被生成时，内容为：</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 文档中的注释内容在文件中不存在 */</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;basic_settings&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;default_language&quot;</span>: <span class="string">&quot;zh&quot;</span>,                              <span class="comment">/* !默认语言，zh表示中文，en为英文    */</span></span><br><span class="line">    <span class="attr">&quot;default_currency&quot;</span>: <span class="string">&quot;CNY&quot;</span>,                             <span class="comment">/* !默认币种，用于汇率换算           */</span></span><br><span class="line">    <span class="attr">&quot;default_translate_engine&quot;</span>: &#123;                          <span class="comment">/* !默认语言引擎，请勿修改support    */</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">&quot;support&quot;</span>: [<span class="string">&quot;default&quot;</span>, <span class="string">&quot;TencentCloud&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;default_proxy&quot;</span>: <span class="string">&quot;用户名:密码@ip:端口 或 ip:端口&quot;</span>         <span class="comment">/* 设置下载代理，启用`-px`时通过代理下载 */</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;API_settings&quot;</span>: &#123;                                        <span class="comment">/* 填入你需要用的API KEY              */</span></span><br><span class="line">    <span class="attr">&quot;rmbg&quot;</span>: <span class="string">&quot;GET: https://www.remove.bg&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;smms&quot;</span>: <span class="string">&quot;GET: https://sm.ms&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;darksky&quot;</span>: <span class="string">&quot;GET: https://darksky.net/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;aliyun_oss_acid&quot;</span>: <span class="string">&quot;GET: https://www.aliyun.com/product/oss&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;aliyun_oss_ackey&quot;</span>: <span class="string">&quot;GET: https://www.aliyun.com/product/oss&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;aliyun_oss_bucket_url&quot;</span>: <span class="string">&quot;GET: https://www.aliyun.com/product/oss&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;aliyun_oss_df_bucket&quot;</span>: <span class="string">&quot;GET: https://www.aliyun.com/product/oss&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;txyun_scid&quot;</span>: <span class="string">&quot;GET: https://console.cloud.tencent.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;txyun_sckey&quot;</span>: <span class="string">&quot;GET: https://console.cloud.tencent.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;txyun_cos_df_bucket&quot;</span>: <span class="string">&quot;GET: https://console.cloud.tencent.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;txyun_df_region&quot;</span>: <span class="string">&quot;GET: ap-[location]&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;qiniu_ac_key&quot;</span>: <span class="string">&quot;GET: http://qiniu.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;qiniu_sc_key&quot;</span>: <span class="string">&quot;GET: http://qiniu.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;qiniu_bk_name&quot;</span>: <span class="string">&quot;GET: [Qiniu Bucket Name]&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;gitee&quot;</span>: <span class="string">&quot;GET: http://gitee.com/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;ipinfo&quot;</span>: <span class="string">&quot;GET: https://ipinfo.io/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipImageAPP_ID&quot;</span>: <span class="string">&quot;GET: https://cloud.baidu.com/product/imageprocess&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipImageAPP_KEY&quot;</span>: <span class="string">&quot;GET: https://cloud.baidu.com/product/imageprocess&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipImageSECRET_KEY&quot;</span>: <span class="string">&quot;GET: https://cloud.baidu.com/product/imageprocess&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipNlpAPP_ID&quot;</span> : <span class="string">&quot;GET: https://cloud.baidu.com/product/nlp_apply&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipNlpAPP_KEY&quot;</span>: <span class="string">&quot;GET: https://cloud.baidu.com/product/nlp_apply&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;AipNlpSECRET_KEY&quot;</span>: <span class="string">&quot;GET: https://cloud.baidu.com/product/nlp_apply&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;commonClipboardFilePath&quot;</span>: <span class="string">&quot;GET: /Path/to/file&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;alapi_token&quot;</span>: <span class="string">&quot;GET: https://www.alapi.net/&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>关于默认语言：</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">标志</th><th style="text-align:center">语言</th><th style="text-align:center">标志</th><th style="text-align:center">语言</th><th style="text-align:center">标志</th><th style="text-align:center">语言</th></tr></thead><tbody><tr><td style="text-align:center">zh</td><td style="text-align:center">🇨🇳</td><td style="text-align:center">en</td><td style="text-align:center">🇬🇧</td><td style="text-align:center">jp</td><td style="text-align:center">🇯🇵</td></tr><tr><td style="text-align:center">kor</td><td style="text-align:center">🇰🇷</td><td style="text-align:center">fra</td><td style="text-align:center">🇫🇷</td><td style="text-align:center">spa</td><td style="text-align:center">🇪🇸</td></tr><tr><td style="text-align:center">th</td><td style="text-align:center">🇹🇭</td><td style="text-align:center">ara</td><td style="text-align:center">阿拉伯</td><td style="text-align:center">ru</td><td style="text-align:center">🇷🇺</td></tr><tr><td style="text-align:center">pt</td><td style="text-align:center">🇵🇹</td><td style="text-align:center">de</td><td style="text-align:center">🇩🇪</td><td style="text-align:center">it</td><td style="text-align:center">🇮🇹</td></tr><tr><td style="text-align:center">el</td><td style="text-align:center">🇬🇷</td><td style="text-align:center">nl</td><td style="text-align:center">🇵🇱</td><td style="text-align:center">bul</td><td style="text-align:center">🇧🇬</td></tr><tr><td style="text-align:center">est</td><td style="text-align:center">🇪🇪</td><td style="text-align:center">dan</td><td style="text-align:center">🇩🇰</td><td style="text-align:center">fin</td><td style="text-align:center">🇫🇮</td></tr><tr><td style="text-align:center">cs</td><td style="text-align:center">🇨🇿</td><td style="text-align:center">rom</td><td style="text-align:center">🇷🇴</td><td style="text-align:center">slo</td><td style="text-align:center">🇸🇮</td></tr><tr><td style="text-align:center">swe</td><td style="text-align:center">🇸🇪</td><td style="text-align:center">hu</td><td style="text-align:center">🇭🇺</td><td style="text-align:center">vie</td><td style="text-align:center">🇻🇳</td></tr></tbody></table></div><ul><li>关于<a href="#API">API</a>，某些API需要依赖官方提供的Python第三方库，但并不是每位用户都会用到它们，为了保持qs安装时的轻松畅快，qs在安装时不会将这些Python第三方库作为依赖项预先安装。因此，如果你需要使用相关的API，请在下方的API对照表中选择安装。</li><li><code>*特殊说明 1</code>：qs的某些方便功能高度依赖alapi.net，因此你可以考虑注册成为alapi的免费用户以获得更好的使用体验。</li><li><code>*特殊说明 2</code>：如果您在使用Mac系统，qs推荐您使用<a href="https://www.iterm2.com/">iTerm</a>作为默认终端以获得最棒的体验。</li></ul>              </div>            </details><hr><h2 id="交流与讨论"><a href="#交流与讨论" class="headerlink" title="交流与讨论"></a>交流与讨论</h2><div class="btns circle around wide">            <div class="tag link"><a class="link-card" title="加入TG群" href="https://t.me/joinchat/G2mpk7-S85eM7sb7"><div class="left"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/01/7dc8cdf5b79dc59f0f314d7509a905f8.png"/></div><div class="right"><p class="text">加入TG群</p><p class="url">https://t.me/joinchat/G2mpk7-S85eM7sb7</p></div></a></div> <div class="tag link"><a class="link-card" title="QS Github" href="https://github.com/Rhythmicc/QuickStart"><div class="left"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/01/0d90e8be0d608e28df478f239cd34849.png"/></div><div class="right"><p class="text">QS Github</p><p class="url">https://github.com/Rhythmicc/QuickStart</p></div></a></div>          </div><hr><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><div class="tabs" id="usage"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#usage-1">基础</button></li><li class="tab"><button type="button" data-href="#usage-2">系统</button></li><li class="tab"><button type="button" data-href="#usage-3">网络</button></li><li class="tab"><button type="button" data-href="#usage-4">API</button></li><li class="tab"><button type="button" data-href="#usage-5">图像</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="usage-1"><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td><code>qs u url</code></td><td>使用默认浏览器打开多个链接</td></tr><tr><td><code>qs a app [files]</code></td><td>打开应用或使用应用打开文件（仅支持Mac OS）</td></tr><tr><td><code>qs f file</code></td><td>使用合适的应用打开文件</td></tr><tr><td><code>qs cal exp</code></td><td>计算算术表达式</td></tr><tr><td><code>qs time</code></td><td>查看当前时间</td></tr><tr><td><code>qs pcat</code></td><td>输出粘贴板内容</td></tr><tr><td><code>qs fcopy file</code></td><td>拷贝文件内容到粘贴板</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-2"><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td><code>qs top</code></td><td>CPU和内存监控器</td></tr><tr><td><code>qs clear</code></td><td>释放本机内存</td></tr><tr><td><code>qs go2git</code></td><td>前往目录的git社区地址</td></tr><tr><td><code>qs mktar path ...</code></td><td>使用多个文件或文件夹创建tar压缩包</td></tr><tr><td><code>qs untar path ...</code></td><td>解压各种格式的tar包</td></tr><tr><td><code>qs mkzip path ...</code></td><td>使用多个文件或文件夹创建zip压缩包</td></tr><tr><td><code>qs unzip path ...</code></td><td>解压zip压缩包</td></tr><tr><td><code>qs unrar path ...</code></td><td>解压rar压缩包</td></tr><tr><td><code>qs mk7z path ...</code></td><td>使用多个文件或文件夹创建7z压缩包</td></tr><tr><td><code>qs un7z path ...</code></td><td>解压7z压缩包</td></tr><tr><td><code>qs md5 path ...</code></td><td>获取文件的md5值</td></tr><tr><td><code>qs sha1 path ...</code></td><td>获取文件的sha1值</td></tr><tr><td><code>qs sha256 path ...</code></td><td>获取文件的sha256值</td></tr><tr><td><code>qs sha512 path ...</code></td><td>获取文件的sha512值</td></tr><tr><td><code>qs diff dir1 dir2</code></td><td>对比两个目录的差异</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-3"><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td><code>qs http [ip:port] [-bind url]</code></td><td>在当前路径下开启简单的多线程http服务</td></tr><tr><td><code>qs netinfo [url ...]</code></td><td>获取命令参数或剪切板中链接或ip的信息</td></tr><tr><td><code>qs wifi</code></td><td>扫描附近WiFi并选择连接</td></tr><tr><td><code>qs dl [urls] [--help]</code></td><td>从命令参数或剪切板中链接下载文件 (<a href="https://rhythmlian.cn/2020/03/23/qs-dl/">qs下载策略</a>)</td></tr><tr><td><code>qs upload</code></td><td>上传你的pypi仓库</td></tr><tr><td><code>qs upgrade</code></td><td>更新qs</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-4"><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td><code>qs trans [words]</code></td><td>翻译命令参数或剪切板中的内容</td></tr><tr><td><code>qs pinyin [words]</code></td><td>查询命令参数或剪切板中的内容的拼音(words必须是中文)</td></tr><tr><td><code>qs rmbg picture</code></td><td>移除图片背景</td></tr><tr><td><code>qs smms picture/*.md</code></td><td>将图片或Markdown中图片上传至sm.ms</td></tr><tr><td><code>qs upimg -help</code></td><td>将图片或Markdown中图片上传至多平台（暂无需token）</td></tr><tr><td><code>qs alioss -help</code></td><td>获取阿里云对象存储的使用帮助</td></tr><tr><td><code>qs txcos -help</code></td><td>获取腾讯云对象存储的使用帮助</td></tr><tr><td><code>qs qiniu -help</code></td><td>获取七牛云对象存储的使用帮助</td></tr><tr><td><code>qs weather [address]</code></td><td>获取当地天气（或指定地址天气）</td></tr><tr><td><code>qs LG image</code></td><td>通过百度图像效果增强放大图片</td></tr><tr><td><code>qs nlp [words]</code></td><td>通过百度NLP对<code>words</code>或剪切板内容纠错</td></tr><tr><td><code>qs bcv [url/video code]</code></td><td>获取B站视频、直播封面图片</td></tr><tr><td><code>qs gbc garbage...</code></td><td>中国垃圾分类查询 (仅支持中文)</td></tr><tr><td><code>qs svi url</code></td><td>获取命令参数或剪切板内短视频分享链接的信息</td></tr><tr><td><code>qs svd url</code></td><td>通过命令参数或剪切板内短视频分享链接下载视频</td></tr><tr><td><code>qs acg  [--save]</code></td><td>获取一张acg图片链接（或保存）</td></tr><tr><td><code>qs bing [--save]</code></td><td>获取一张bing图片链接（或保存）</td></tr><tr><td><code>qs phi url</code></td><td>获取url中的图片链接 (在Mac::iTerm上自动预览)</td></tr><tr><td><code>qs kd courier-number</code></td><td>查询国内快递</td></tr><tr><td><code>qs loli [--save] [-p]</code></td><td>获取一张萝莉图片链接 [或保存(通过默认代理)]</td></tr><tr><td><code>qs setu [--save] [-p]</code></td><td>获取一张涩图链接 [或保存(通过默认代理)]</td></tr><tr><td><code>qs exc number currency</code></td><td>汇率换算，将查询的指定货币数量换算为默认币种</td></tr><tr><td><code>qs zhihu</code></td><td>获取知乎日报</td></tr><tr><td><code>qs wallhaven [--save]</code></td><td>获取Wallhaven Top动漫涩图</td></tr><tr><td><code>qs lmgtfy keywords</code></td><td>获取关键词的“让我帮你谷歌”链接</td></tr><tr><td><code>qs d60 [--save]</code></td><td>获取每日60秒早报</td></tr><tr><td><code>qs m2t</code></td><td>磁力链接转种子文件</td></tr><tr><td><code>qs d2m</code></td><td>搜索番号并复制磁力链</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-5"><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td><code>qs stbg picture to [from]</code></td><td>替换图片颜色（from默认为透明）</td></tr><tr><td><code>qs icat img</code></td><td>在终端预览图片(仅在MacOS下ITerm支持)</td></tr><tr><td><code>qs v2gif video [sz] [fps]</code></td><td>将视频导出为gif</td></tr><tr><td><code>qs v2mp4 video</code></td><td>将视频导出为mp4</td></tr><tr><td><code>qs v2mp3 video</code></td><td>提取视频音频为mp3</td></tr><tr><td><code>qs rmaudio video</code></td><td>删除视频的音频（仅返回mp4文件）</td></tr><tr><td><code>qs i2png imgs...</code></td><td>将图片转为png格式</td></tr><tr><td><code>qs i2jpg imgs...</code></td><td>将图片转为jpg格式</td></tr><tr><td><code>qs fmti img to [exp...]</code></td><td>格式化图片颜色为to，忽略[exp…]颜色</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h2><details ><summary> 最近(2022-02-25) </summary>              <div class='content'>              <ul><li><code>d2m</code>— 搜索番号并复制磁力链</li></ul><p><div id="dplayer3" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer3 = new DPlayer({"element":document.getElementById("dplayer3"),"video":{"url":"http://cos.rhythmlian.cn/video/qs-d2m.mp4"}});</script><!-- dplayer used1 --></p><ul><li>删除<code>cb</code>, <code>pasteme</code>支持。</li></ul>              </div>            </details><details ><summary> 2022-01-15 </summary>              <div class='content'>              <p><code>m2t</code>—磁力链接转种子文件</p><p><div id="dplayer4" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer4 = new DPlayer({"element":document.getElementById("dplayer4"),"video":{"url":"http://cos.rhythmlian.cn/video/qs-m2t.mp4"}});</script><!-- dplayer used1 --></p>              </div>            </details><details ><summary> 2021-08-07 </summary>              <div class='content'>              <p><code>fcopy</code>—将文件内容拷贝至粘贴板</p><p><code>pcat</code>—输出粘贴板中的内容</p><p><code>go2git</code>—根据当前目录前往git社区的仓库地址</p><p><code>i2png / i2jpg</code>—将图片格式转换为png或jpg</p><p><code>fmti</code>—格式化图片颜色为to，除了[exp…]中的颜色</p><p><code>wallhaven</code>—获取Wallhaven Toplist中的ACG涩图</p><p><code>lmgtfy</code>—生成并拷贝一个指定内容的”let me google that for you”链接</p><p><code>d60</code>—获取每日60秒早报</p>              </div>            </details><details ><summary> 2021-04-25 </summary>              <div class='content'>              <p><code>zhihu</code> — 获取知乎日报</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/04/26/c5cc4413ef72a907504f0191e11a5448.jpg" alt=""></p><p><code>wallhaven</code> — 获取Wallhaven Top动漫涩图</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/04/26/520c184cad27d047cd01c0d440e1b94e.jpg" alt=""></p>              </div>            </details><details ><summary> 2021-02-26 </summary>              <div class='content'>              <p><code>setu</code> — 随机调用<code>setu</code>, <code>acg</code>获取图片链接</p><p><code>pinyin</code> — 查询指定内容的拼音（带音标）</p><p><code>exc</code> — 货币换算，将查询货币换算为设置的默认货币</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/26/b7fc0ebe4a335e7242fd6288a98b65d7.png" alt=""></p>              </div>            </details><details ><summary> 2021-01-31 </summary>              <div class='content'>              <p><code>loli</code> — 查看或保存萝莉图片（你需要开启梯子以访问P站）</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/02/01/965e87ad1a5d79286c0b27ce102037f5.png" alt=""></p>              </div>            </details><details ><summary> 2021-01-16 </summary>              <div class='content'>              <ol><li><p><code>kd</code> — 查询国内快递!</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/137210002d9efbdd6ca76" alt=""></p></li><li><p>下载交互优化</p><p><div id="dplayer5" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer5 = new DPlayer({"element":document.getElementById("dplayer5"),"video":{"url":"http://cos.rhythmlian.cn/video/qs-dl.mp4"}});</script><!-- dplayer used1 --></p></li><li><p>压缩与解压缩支持<code>7z</code>格式</p></li><li><p>修复bug</p></li></ol>              </div>            </details><hr><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><ul><li><strong>QuickStart-Rhy提供一些流行的在线平台的api，所以你可以用qs做令人惊奇的事情!</strong></li><li><strong>您需要亲自到适当的网站注册，并填写所需的API密钥，以确保正确调用qs</strong></li><li><strong>编辑的<code>~ /.qsrc</code>来设置你的API!</strong></li></ul><h3 id="支持的-API"><a href="#支持的-API" class="headerlink" title="支持的 API"></a>支持的 API</h3><details ><summary> 对照表 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">API</th><th style="text-align:center">官网</th><th style="text-align:center">Pypi库</th><th style="text-align:center">键值</th></tr></thead><tbody><tr><td style="text-align:center">remove bg</td><td style="text-align:center"><a href="https://www.remove.bg/zh">链接</a></td><td style="text-align:center">无</td><td style="text-align:center">“rmbg”</td></tr><tr><td style="text-align:center">smms</td><td style="text-align:center"><a href="https://sm.ms">链接</a></td><td style="text-align:center">无</td><td style="text-align:center">“smms”</td></tr><tr><td style="text-align:center"><br />Aliyun OSS</td><td style="text-align:center"><br /><a href="https://www.aliyun.com/product/oss">链接</a></td><td style="text-align:center"><br /><code>oss2</code></td><td style="text-align:center">“aliyun_oss_acid”<br />“aliyun_oss_ackey”<br />“aliyun_oss_df_bucket”<br />“aliyun_oss_bucket_url”</td></tr><tr><td style="text-align:center"><br />Qiniu OSS</td><td style="text-align:center"><br /><a href="http://qiniu.com/">链接</a></td><td style="text-align:center"><br /><code>qiniu</code></td><td style="text-align:center">“qiniu_ac_key”<br />“qiniu_sc_key”<br />“qiniu_bk_name”</td></tr><tr><td style="text-align:center"><br />Tencent  COS</td><td style="text-align:center"><br /><a href="https://console.cloud.tencent.com/cos5">链接</a></td><td style="text-align:center"><br /><code>cos-python-sdk-v5</code></td><td style="text-align:center">“txyun_scid”<br />“txyun_sckey”<br />“txyun_df_region”<br />“txyun_cos_df_bucket”<br /></td></tr><tr><td style="text-align:center">IPinfo</td><td style="text-align:center"><a href="https://ipinfo.io">链接</a></td><td style="text-align:center"><code>ipinfo</code></td><td style="text-align:center">“ipinfo”</td></tr><tr><td style="text-align:center">Baidu Image <br />Process</td><td style="text-align:center"><br /><a href="https://cloud.baidu.com/product/imageprocess">链接</a></td><td style="text-align:center"><br /><code>aip</code></td><td style="text-align:center">“AipImageAPP_ID”<br />“AipImageAPP_KEY”<br />“AipImageSECRET_KEY”</td></tr><tr><td style="text-align:center"><br />Baidu NLP</td><td style="text-align:center"><br /><a href="https://cloud.baidu.com/product/imageprocess">链接</a></td><td style="text-align:center"><br /><code>aip</code></td><td style="text-align:center">“AipNlpAPP_ID”<br />“AipNlpAPP_KEY”<br />“AipNlpSECRET_KEY”</td></tr><tr><td style="text-align:center">Tencent translate</td><td style="text-align:center"><a href="https://cloud.tencent.com/product/tmt">链接</a></td><td style="text-align:center"><code>tencentcloud-sdk-python</code></td><td style="text-align:center">“txyun_scid”<br />“txyun_sckey”<br />“txyun_df_region”</td></tr><tr><td style="text-align:center">alapi</td><td style="text-align:center"><a href="https://www.alapi.net">链接</a></td><td style="text-align:center">无</td><td style="text-align:center">“alapi_token”</td></tr></tbody></table></div>              </div>            </details><h3 id="API-画廊"><a href="#API-画廊" class="headerlink" title="API 画廊"></a>API 画廊</h3><div class="tabs" id="gallery"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#gallery-1">图像相关</button></li><li class="tab"><button type="button" data-href="#gallery-2">网络相关</button></li><li class="tab"><button type="button" data-href="#gallery-3">对象存储</button></li><li class="tab"><button type="button" data-href="#gallery-4">实用工具</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="gallery-1"><h4 id="rmbg"><a href="#rmbg" class="headerlink" title="rmbg"></a>rmbg</h4><div class="table-container"><table><thead><tr><th style="text-align:center">Raw</th><th style="text-align:center">Processed</th></tr></thead><tbody><tr><td style="text-align:center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://vip1.loli.net/2020/02/29/qwYb2JkSEeIlB9V.jpg" style="zoom:60%;" /></td><td style="text-align:center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://vip1.loli.net/2020/02/29/wTRszv6EofNSr9K.png" alt=""></td></tr></tbody></table></div><h4 id="LG"><a href="#LG" class="headerlink" title="LG"></a>LG</h4><ul><li>调用百度人工智能接口无损放大图片</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-2"><details ><summary> 上传图片 </summary>              <div class='content'>              <h4 id="smms"><a href="#smms" class="headerlink" title="smms"></a>smms</h4><ul><li>上传图片:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜ Desktop $ qs smms IMG_4758.jpeg  </span><br><span class="line">+---------------+--------+---------------------------+</span><br><span class="line">|      File     | Status |            url            |</span><br><span class="line">+---------------+--------+---------------------------+</span><br><span class="line">| IMG_4758.jpeg |  True  | https://*.loli.net/*t.jpg |</span><br><span class="line">+---------------+--------+---------------------------+</span><br></pre></td></tr></table></figure><ul><li>将markdown文件中图像上传，并将图像路径替换为url。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜ Desktop $ qs smms test.md  </span><br><span class="line">+---------------+--------+---------------------------+</span><br><span class="line">|      File     | Status |            url            |</span><br><span class="line">+---------------+--------+---------------------------+</span><br><span class="line">|     1.jpg     |  True  | https://*.loli.net/1.jpg  |</span><br><span class="line">|     2.jpg     |  True  | https://*.loli.net/2.jpg  |</span><br><span class="line">|     3.jpg     |  True  | https://*.loli.net/3.jpg  |</span><br><span class="line">+---------------+--------+---------------------------+</span><br></pre></td></tr></table></figure><h4 id="upimg"><a href="#upimg" class="headerlink" title="upimg"></a>upimg</h4><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://p6.qhimg.com/t01e0e9c1c36fa434ad.jpg" alt=""></p><ul><li><code>upimg</code>有与<code>smms</code>相同的功能，但<code>upimg</code>不需要API键。<br>它支持多平台上传你的图片，但我不保证它是安全的上传图片到任何平台。</li></ul>              </div>            </details><details ><summary> 查IP </summary>              <div class='content'>              <h4 id="ipinfo"><a href="#ipinfo" class="headerlink" title="ipinfo"></a>ipinfo</h4><ul><li>只提供一个函数:<code>QuickStart_Rhy.api.ipinfo(ip:str=None)</code>，它将返回一个包含ip信息的dict。</li><li><code>[注意]</code>这个API定位并不精确，不过他们的产品经理倒是很自信</li></ul><h5 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> QuickStart_Rhy.api <span class="keyword">import</span> ipinfo</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ipinfo(<span class="string">&#x27;114.114.114.114&#x27;</span>)</span><br><span class="line">&#123;<span class="string">&#x27;ip&#x27;</span>: <span class="string">&#x27;114.114.114.114&#x27;</span>, <span class="string">&#x27;hostname&#x27;</span>: <span class="string">&#x27;public1.114dns.com&#x27;</span>, <span class="string">&#x27;city&#x27;</span>: <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;region&#x27;</span>: <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;country&#x27;</span>: <span class="string">&#x27;CN&#x27;</span>, <span class="string">&#x27;loc&#x27;</span>: <span class="string">&#x27;39.9075,116.3972&#x27;</span>, <span class="string">&#x27;org&#x27;</span>: <span class="string">&#x27;AS174 Cogent Communications&#x27;</span>, <span class="string">&#x27;timezone&#x27;</span>: <span class="string">&#x27;Asia/Shanghai&#x27;</span>, <span class="string">&#x27;country_name&#x27;</span>: <span class="string">&#x27;China&#x27;</span>, <span class="string">&#x27;latitude&#x27;</span>: <span class="string">&#x27;39.9075&#x27;</span>, <span class="string">&#x27;longitude&#x27;</span>: <span class="string">&#x27;116.3972&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="netinfo"><a href="#netinfo" class="headerlink" title="netinfo"></a>netinfo</h4><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/07/07/29F7iKpRnl3adJx.png" alt="demo"></p><ul><li>如图所示，您可以通过使用网址、ip地址或<code>me(关键字)</code>来获取ip信息!</li></ul>              </div>            </details><details ><summary> 翻译 </summary>              <div class='content'>              <h4 id="Tencent-Translate"><a href="#Tencent-Translate" class="headerlink" title="Tencent Translate"></a>Tencent Translate</h4><ul><li>在经历了几种不稳定的翻译API后，我决定使用腾讯云机翻译作为qs的翻译引擎之一，所以如果你想使用翻译服务，你需要安装一些库，将你的账号信息设置在<code>~/.qsrc</code>。 </li></ul><h5 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> qs trans Looking <span class="keyword">in</span> indexes</span></span><br><span class="line">查找索引</span><br></pre></td></tr></table></figure><h4 id="AlAPI-Translate"><a href="#AlAPI-Translate" class="headerlink" title="AlAPI Translate"></a>AlAPI Translate</h4><h5 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> qs trans Looking <span class="keyword">in</span> indexes</span></span><br><span class="line">查找索引</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-3"><h4 id="Aliyun-OSS"><a href="#Aliyun-OSS" class="headerlink" title="Aliyun OSS"></a>Aliyun OSS</h4><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>qs alioss -up file [bucket]</code></td><td>上传文件到桶/默认桶</td></tr><tr><td><code>qs alioss -rm file [bucket]</code></td><td>删除桶中的文件</td></tr><tr><td><code>qs alioss -dl file [bucket]</code></td><td>从桶中下载文件</td></tr><tr><td><code>qs alioss -ls [bucket]</code></td><td>获取桶中的文件信息</td></tr></tbody></table></div><h5 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Bucket Url: https://***.aliyuncs.com/</span><br><span class="line">+--------------------------------+------------+</span><br><span class="line">|              File              |    Size    |</span><br><span class="line">+--------------------------------+------------+</span><br><span class="line">| 单片机原理及应用教程第3版.pdf      |  25.156 MB |</span><br><span class="line">| 计算机网络（第7版）-谢希仁.pdf     |  70.780 MB |</span><br><span class="line">|        软件工程导论.pdf          | 100.819 MB |</span><br><span class="line">+--------------------------------+------------+</span><br></pre></td></tr></table></figure><h4 id="Qiniu-OSS"><a href="#Qiniu-OSS" class="headerlink" title="Qiniu OSS"></a>Qiniu OSS</h4><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>qs qiniu -up file [bucket]</code></td><td>上传文件到桶/默认桶</td></tr><tr><td><code>qs qiniu -rm file [bucket]</code></td><td>删除桶中的文件</td></tr><tr><td><code>qs qiniu -cp url  [bucket]</code></td><td>从url拷贝文件到桶中</td></tr><tr><td><code>qs qiniu -dl file [bucket]</code></td><td>从桶中下载文件</td></tr><tr><td><code>qs qiniu -ls [bucket]</code></td><td>获取桶中的文件信息</td></tr></tbody></table></div><h5 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">➜ hexo $ qs qiniu -ls</span><br><span class="line">Bucket url: http://***.bkt.clouddn.com/</span><br><span class="line">+----------------------------+------------+</span><br><span class="line">|            File            |    Size    |</span><br><span class="line">+----------------------------+------------+</span><br><span class="line">|     591918ca03491.jpg      | 522.393 KB |</span><br><span class="line">|     BaiduExporter.zip      |  64.810 KB |</span><br><span class="line">|         BitBar.zip         |   6.361 MB |</span><br><span class="line">|         cover.png          | 342.704 KB |</span><br><span class="line">|        ev-cover.png        | 483.959 KB |</span><br><span class="line">| google-access-helper-2.zip | 111.958 KB |</span><br><span class="line">|       weather.15m.py       |  13.386 KB |</span><br><span class="line">+----------------------------+------------+</span><br></pre></td></tr></table></figure><h4 id="Tencent-COS"><a href="#Tencent-COS" class="headerlink" title="Tencent COS"></a>Tencent COS</h4><div class="table-container"><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>qs txcos -up file [bucket]</code></td><td>上传文件到桶/默认桶</td></tr><tr><td><code>qs txcos -rm file [bucket]</code></td><td>删除桶中的文件</td></tr><tr><td><code>qs txcos -dl file [bucket]</code></td><td>从桶中下载文件</td></tr><tr><td><code>qs txcos -ls [bucket]</code></td><td>获取桶中的文件信息</td></tr></tbody></table></div><h5 id="样例-2"><a href="#样例-2" class="headerlink" title="样例"></a>样例</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">➜ hexo $ qs txcos -ls</span><br><span class="line">Bucket url: http://***.myqcloud.com/</span><br><span class="line">+----------------------------+------------+</span><br><span class="line">|            File            |    Size    |</span><br><span class="line">+----------------------------+------------+</span><br><span class="line">|           1.jpg            | 522.393 KB |</span><br><span class="line">|     BaiduExporter.zip      |  64.810 KB |</span><br><span class="line">|         BitBar.zip         |   6.361 MB |</span><br><span class="line">|        ev-cover.png        | 483.959 KB |</span><br><span class="line">|        gd-cover.png        | 342.704 KB |</span><br><span class="line">| google-access-helper-2.zip | 111.958 KB |</span><br><span class="line">|       weather.15m.py       |  13.386 KB |</span><br><span class="line">+----------------------------+------------+</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gallery-4"><h4 id="bcv：BiliBili视频背景"><a href="#bcv：BiliBili视频背景" class="headerlink" title="bcv：BiliBili视频背景"></a>bcv：BiliBili视频背景</h4><div class="table-container"><table><thead><tr><th style="text-align:center">Use</th><th style="text-align:center">Result</th></tr></thead><tbody><tr><td style="text-align:center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://upload.ouliu.net/i/20200728234446hjej1.png" alt=""></td><td style="text-align:center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/ffb6000140d19240ffc9" style="zoom:50%;" /></td></tr></tbody></table></div><ul><li>下载Bilibili视频图像，支持<code>视频网址</code>比如<code>https://www.bilibili.com/video/BV1J4y197Ht</code>或<code>视频号</code>比如<code>BV1J4y197Ht</code>。</li></ul><h4 id="gbc：垃圾分类"><a href="#gbc：垃圾分类" class="headerlink" title="gbc：垃圾分类"></a>gbc：垃圾分类</h4><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/1382d00003d8573540947" alt=""></p><ul><li>垃圾分类查询~（仅支持中文搜索）</li></ul><h4 id="svi-svd"><a href="#svi-svd" class="headerlink" title="svi/svd"></a>svi/svd</h4><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://p.pstatp.com/origin/137260001501a2a0feb66" alt=""></p><ul><li>svd: 解析短视频的分享链接，输出视频与封面的直链地址并下载为mp4（采用qs内置下载引擎，生成mp4依赖<code>moviepy</code>库，需自行安装）</li><li>svi: 仅解析短视频链接，输出视频相关信息，不做下载。</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><h2 id="开发者工具"><a href="#开发者工具" class="headerlink" title="开发者工具"></a>开发者工具</h2><p><strong>不满足于只在命令行上使用qs? qs现在提供了实用的工具来帮助您更快地开发Python应用程序! </strong></p><div class="tabs" id="usage"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#usage-1">图像处理</button></li><li class="tab"><button type="button" data-href="#usage-2">网络工具</button></li><li class="tab"><button type="button" data-href="#usage-3">线程工具</button></li><li class="tab"><button type="button" data-href="#usage-4">文本窗口交互</button></li><li class="tab"><button type="button" data-href="#usage-5">好用的装饰器</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="usage-1"><h3 id="ImageTools"><a href="#ImageTools" class="headerlink" title="ImageTools"></a>ImageTools</h3><ul><li><p>ColorTools.py: </p><ul><li><p><code>QuickStart_Rhy.ImageTools.ColorTools.get_color_from_str(str_color)</code>: get (R, G, B, A=255) from <code>str_color</code></p><p>样例:</p></li></ul></li></ul><div class="table-container"><table><thead><tr><th>call</th><th>return</th></tr></thead><tbody><tr><td><code>get_color_from_str(&#39;0,0,0,0&#39;)</code></td><td>(0, 0, 0, 0)</td></tr><tr><td><code>get_color_from_str(&#39;0,0,0&#39;)</code></td><td>(0, 0, 0, 255)</td></tr><tr><td><code>get_color_from_str(&#39;FFFFFF&#39;)</code></td><td>(255, 255, 255, 255)</td></tr></tbody></table></div><ul><li><p><code>QuickStart_Rhy.ImageTools.ColorTools.transport_back(src: str, to_color, from_color=(0, 0, 0, 0))</code>: 将图片 <code>Image.open(src)</code>中颜色 <code>from_color</code> 替换为 <code>to_color</code>。</p><p>样例:</p></li></ul><div class="table-container"><table><thead><tr><th>call</th><th>return</th></tr></thead><tbody><tr><td><code>transport_back(&#39;test.jpg&#39;, (0, 0, 0, 255))</code></td><td>Replace the transparent color with white</td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-2"><h3 id="NetTools"><a href="#NetTools" class="headerlink" title="NetTools"></a>NetTools</h3><ul><li><p><code>QuickStart_Rhy.NetTools.check_one_page(url)</code>: 确定url是否可访问。</p></li><li><p><code>QuickStart_Rhy.NetTools.formatUrl(try_url)</code>: 尝试添加<a href="https://或http://以使`try_url`可以访问(不能保证返回值可以访问">https://或http://以使`try_url`可以访问(不能保证返回值可以访问</a>)</p></li><li><p><code>QuickStart_Rhy.NetTools.get_ip()</code>: 获取局域网下当前机器的IP</p></li><li><p><code>QuickStart_Rhy.NetTools.size_format(sz, align=False)</code>: 格式化文件大小<code>1000000 -&gt;  1.000 MB</code>(如果不对齐，则为<code>1.000 MB</code>)</p></li><li><p><code>QuickStart_Rhy.NetTools.get_ip_info()</code>: 返回字典</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &#x27;status&#x27;: &#x27;success&#x27;, </span><br><span class="line">  &#x27;country&#x27;: &#x27;China&#x27;, </span><br><span class="line">  &#x27;countryCode&#x27;: &#x27;CN&#x27;, </span><br><span class="line">  &#x27;region&#x27;: &#x27;Province name abbreviations&#x27;, </span><br><span class="line">  &#x27;regionName&#x27;: &#x27;Province name&#x27;, </span><br><span class="line">  &#x27;city&#x27;: &#x27;City&#x27;, </span><br><span class="line">  &#x27;zip&#x27;: &#x27;&#x27;, </span><br><span class="line">  &#x27;lat&#x27;: latitude, </span><br><span class="line">  &#x27;lon&#x27;: longitude, </span><br><span class="line">  &#x27;timezone&#x27;: &#x27;Asia/Shanghai&#x27;, </span><br><span class="line">  &#x27;isp&#x27;: &#x27;Network operator&#x27;, </span><br><span class="line">  &#x27;org&#x27;: &#x27;Network operator + location&#x27;, </span><br><span class="line">  &#x27;as&#x27;: &#x27;AS4134 Chinanet&#x27;, </span><br><span class="line">  &#x27;query&#x27;: &#x27;Your public IP&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>QuickStart_Rhy.NetTools.get_fileinfo(url)</code>: 返回可下载的链接, 文件名和头部信息.</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-3"><h3 id="ThreadTools"><a href="#ThreadTools" class="headerlink" title="ThreadTools"></a>ThreadTools</h3><ul><li><p><code>QuickStart_Rhy.ThreadTools.ThreadFunctionWrapper(threading.Thread)</code>: 打开一个新线程来运行函数。</p><ul><li><code>__init__(self, function, *args, **kwargs)</code> </li><li><code>run(self)</code>: 开始运行</li><li><code>get_res(self)</code>: 获取运行结果</li></ul></li><li><p><code>QuickStart_Rhy.ThreadTools.FileWriters</code>: 写文件线程池</p><ul><li><code>__init__(self, filename, workers, mode)</code>: 模式样例: <code>r+</code>, <code>w</code>, <code>rb+</code>, <code>wb</code></li><li><code>wait(self)</code>: 等待线程池所有线程工作完毕</li><li><code>new_job(self, content, index)</code>: 加入新的任务</li></ul><p><strong>文件必须已经创建并预先分配了足够的空间</strong></p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-4"><h3 id="TuiTools"><a href="#TuiTools" class="headerlink" title="TuiTools"></a>TuiTools</h3><ul><li><code>QuickStart_Rhy.TuiTools.get_console_width()</code>: 顾名思义，获取控制台宽度</li><li><code>QuickStart_Rhy.TuiTools.Bar.RollBar</code>:支持在命令行上滚动条形图，您可以运行<code>qs -top</code>来查看效果。</li><li><code>QuickStart_Rhy.TuiTools.Line.Line</code>: 在命令行上支持折线图，您可以运行<code>qs -weather</code>来查看效果。</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="usage-5"><h3 id="Wrappers"><a href="#Wrappers" class="headerlink" title="Wrappers"></a>Wrappers</h3><ul><li><p><code>QuickStart_Rhy.Wrapper.set_timeout(num)</code>: 函数包装器使函数在指定的时间<code>num</code>内结束。</p><ul><li>样例:</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> QuickStart_Rhy.Wrapper <span class="keyword">import</span> set_timeout</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="meta">@set_timeout(<span class="params"><span class="number">2</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fuck</span>(<span class="params">who</span>):</span></span><br><span class="line">  time.sleep(<span class="number">3</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;fuck &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(who)</span><br><span class="line"><span class="comment"># 返回 False</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@set_timeout(<span class="params"><span class="number">2</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fuck</span>(<span class="params">who</span>):</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;fuck &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(who)</span><br><span class="line"><span class="comment"># 返回 &#x27;fuck &#123;&#125;&#x27;.format(who)</span></span><br></pre></td></tr></table></figure></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="文档" scheme="https://rhythmlian.cn/categories/%E6%96%87%E6%A1%A3/"/>
    
    
    <category term="Python开源库文档" scheme="https://rhythmlian.cn/tags/Python%E5%BC%80%E6%BA%90%E5%BA%93%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>uTools旧版翻译插件安装</title>
    <link href="https://rhythmlian.cn/2020/07/25/Old-uTools-Translate/"/>
    <id>https://rhythmlian.cn/2020/07/25/Old-uTools-Translate/</id>
    <published>2020-07-25T06:02:16.000Z</published>
    <updated>2020-07-25T06:02:16.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>由于旧版的uTools翻译插件是通过非正当途径获取翻译API，目前已被官方下架。如果仍想使用旧版翻译插件，可以通过离线安装的方式。</p><h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://img.vim-cn.com/de/bd30857c033e943bf0ea43bcebdd4f2eea618b.png" alt=""></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>点击链接，下载插件：<a href="https://tx-rhythm-1257451806.cos.ap-beijing.myqcloud.com/0004eb94f50e6c63095840eff2eeb0d9.asar">0004eb94f50e6c63095840eff2eeb0d9.asar</a></li><li>关闭uTools（必须先关闭）</li><li>将<code>0004eb94f50e6c63095840eff2eeb0d9.asar</code>文件移动至你的uTools插件文件夹下<ol><li>Mac: <code>/Users/&lt;你的本机用户名&gt;/Library/Application Support/uTools/plugins</code></li><li>Windows: <code>C:\Users\&lt;你的本机用户名&gt;\AppData\Roaming\uTools\plugins</code></li><li>Linux需要自行寻找uTools插件文件夹位置</li></ol></li><li>打开uTools</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="uTools" scheme="https://rhythmlian.cn/tags/uTools/"/>
    
  </entry>
  
  <entry>
    <title>Win10下Qt 5.14.2+VS2017环境配置与编译运行qwood</title>
    <link href="https://rhythmlian.cn/2020/07/06/QWoodRun/"/>
    <id>https://rhythmlian.cn/2020/07/06/QWoodRun/</id>
    <published>2020-07-05T18:40:19.000Z</published>
    <updated>2020-07-05T18:40:19.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="安装Visual-Studio-2017"><a href="#安装Visual-Studio-2017" class="headerlink" title="安装Visual Studio 2017"></a>安装Visual Studio 2017</h2><h3 id="下载并配置VS2017"><a href="#下载并配置VS2017" class="headerlink" title="下载并配置VS2017"></a>下载并配置VS2017</h3><ol><li>进入<a href="https://docs.microsoft.com/en-us/visualstudio/releasenotes/vs2017-relnotes">Visual Studio官网</a>，点击蓝色按钮“Download Visual Studio 2017”，按照流程登录并下载即可。</li><li>打开已下载好的<code>Visual Studio Installer</code>程序，对<code>Visual Studio Community 2017</code>进行配置。</li><li>选择<code>工作负载</code>-&gt;<code>Windows(3)</code>-&gt;<code>使用C++的桌面开发</code>后，点击右下角确认即可。</li></ol><h3 id="安装Qt插件"><a href="#安装Qt插件" class="headerlink" title="安装Qt插件"></a>安装Qt插件</h3><ol><li><p>启动Visual Studio 2017后，看到如下界面：</p><p>  <img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/455e65f0c325aa782054d2d5e7e10bb8.png" alt="1"></p></li><li><p>选择<code>工具</code>-&gt;<code>扩展和更新</code>-&gt;<code>联机</code>-&gt;<code>Visual Studio Marketplace</code>，并在右侧搜索处填入<code>Qt</code>:</p><p>  <img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/87acb82010496bfc1d612701e885c7a7.png" alt="2"></p><p>  安装即可，安装成功后，在VS2017窗口的菜单栏中会出现<code>Qt VS Tools</code>字段：</p><p>  <img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/80444dd6d5b26738ecb0dbdf4c5cf2a8.png" alt="3"></p></li></ol><h2 id="安装Qt-5-14-2"><a href="#安装Qt-5-14-2" class="headerlink" title="安装Qt 5.14.2"></a>安装Qt 5.14.2</h2><h3 id="安装配置Qt-5-14-2环境"><a href="#安装配置Qt-5-14-2环境" class="headerlink" title="安装配置Qt 5.14.2环境"></a>安装配置Qt 5.14.2环境</h3><ol><li><p>进入<a href="http://download.qt.io/archive/qt/5.14/5.14.2/">下载地址</a>，选择合适你系统版本的Qt安装包，在本文中我们选择<code>qt-opensource-windows-x86-5.14.2.exe</code>进行下载。</p><p>你可以直接点击下方链接下载：</p></li></ol><div class="table-container"><table><thead><tr><th>系统</th><th>链接</th></tr></thead><tbody><tr><td>Windows</td><td><a href="http://download.qt.io/archive/qt/5.14/5.14.2/qt-opensource-windows-x86-5.14.2.exe">qt-opensource-windows-x86-5.14.2.exe</a></td></tr><tr><td>Mac OS X</td><td><a href="http://download.qt.io/archive/qt/5.14/5.14.2/qt-opensource-mac-x64-5.14.2.dmg">qt-opensource-mac-x64-5.14.2.dmg</a></td></tr><tr><td>Linux</td><td><a href="http://download.qt.io/archive/qt/5.14/5.14.2/qt-opensource-linux-x64-5.14.2.run">qt-opensource-linux-x64-5.14.2.run</a></td></tr></tbody></table></div><ol><li><p>下载成功后，运行刚刚下载好的<code>qt-opensource-windows-x86-5.14.2.exe</code>，需要注册Qt账户并通过邮箱确认。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/afdf95cc13069f6a6ddb07d2d5724e91.png" alt="4"></p><p>注册并成功登录后，一路下一步，直到<code>选择组件</code>部分。按如下配置选择：</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/cc7bcaaf150fee5c942827f60d0036f0.png" alt="5"></p><p>点击下一步，等待安装完毕后启动<code>Qt Creator</code>即安装完成。</p></li></ol><h3 id="配置Visual-Studio-2017中的Qt环境路径"><a href="#配置Visual-Studio-2017中的Qt环境路径" class="headerlink" title="配置Visual Studio 2017中的Qt环境路径"></a>配置Visual Studio 2017中的Qt环境路径</h3><ol><li><p>打开<code>Visual Studio 2017</code>，选择上方<code>Qt VS Tools</code>-&gt;<code>Qt Options</code>，点击右侧<code>add</code>-&gt;<code>...</code></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/fbd3c08783c4b5b14863b7e7ae711936.png" alt="6"></p></li><li><p>选择<code>MSVC 2017</code>的安装位置并确认：</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/0f8d8a7d690a58169b34ee63574890d7.png" alt="7"></p></li></ol><h2 id="QWood项目编译与运行"><a href="#QWood项目编译与运行" class="headerlink" title="QWood项目编译与运行"></a>QWood项目编译与运行</h2><h3 id="获取QWood项目"><a href="#获取QWood项目" class="headerlink" title="获取QWood项目"></a>获取QWood项目</h3><ol><li><p>打开<code>cmd</code>，跳转到合适的位置并运行</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/thiagodnf/qwood.git</span><br></pre></td></tr></table></figure><p>（如果你的Windows没有git命令，建议百度<a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=`Windows 10下安装git`">Windows 10下安装git</a>）</p></li><li><p>运行完毕后，cmd当前目录下会生成一个<code>qwood</code>文件夹，进入后有如下目录结构</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- Makefile</span><br><span class="line">|-- QWood.pro</span><br><span class="line">|-- QWood.pro.user</span><br><span class="line">|-- README.md</span><br><span class="line">|-- configdialog.cpp</span><br><span class="line">|-- configdialog.h</span><br><span class="line">|-- configdialogpageestruturas.cpp</span><br><span class="line">|-- configdialogpageestruturas.h</span><br><span class="line">|-- configdialogpageestruturas.ui</span><br><span class="line">|-- configdialogpages.cpp</span><br><span class="line">|-- configdialogpages.h</span><br><span class="line">|-- dist</span><br><span class="line">|   |-- Makefile</span><br><span class="line">|   `-- QWood</span><br><span class="line">|-- entradas</span><br><span class="line">|   |-- cpp-home.txt</span><br><span class="line">|   |-- entrada2.txt</span><br><span class="line">|   |-- entrada3.txt</span><br><span class="line">|   |-- entrada_100.txt</span><br><span class="line">|   |-- entrada_100_inv.txt</span><br><span class="line">|   |-- entrada_livro.txt</span><br><span class="line">|   |-- main</span><br><span class="line">|   |-- main.cpp</span><br><span class="line">|   `-- problema.txt</span><br><span class="line">|-- images</span><br><span class="line">|   |-- buscar.png</span><br><span class="line">|   |-- cascata.png</span><br><span class="line">|   |-- config.png</span><br><span class="line">|   |-- config_estruturas.png</span><br><span class="line">|   |-- delete.png</span><br><span class="line">|   |-- favicon.ico</span><br><span class="line">|   |-- favicon2.ico</span><br><span class="line">|   |-- fechar_tudo.png</span><br><span class="line">|   |-- inserir.png</span><br><span class="line">|   |-- lado_a_lado.png</span><br><span class="line">|   |-- limpar.png</span><br><span class="line">|   |-- logo.png</span><br><span class="line">|   |-- logo_qt.jpeg</span><br><span class="line">|   |-- logo_qt.png</span><br><span class="line">|   |-- logotipo_base.png</span><br><span class="line">|   |-- logotipo_base.xcf</span><br><span class="line">|   |-- logotipo_base1.png</span><br><span class="line">|   |-- logotipo_base2.png</span><br><span class="line">|   |-- sair.png</span><br><span class="line">|   |-- screenshot.png</span><br><span class="line">|   |-- update.png</span><br><span class="line">|   |-- zoomIn.png</span><br><span class="line">|   `-- zoomOut.png</span><br><span class="line">|-- main.cpp</span><br><span class="line">|-- mainwindow.cpp</span><br><span class="line">|-- mainwindow.h</span><br><span class="line">|-- moc_configdialog.cpp</span><br><span class="line">|-- moc_configdialogpageestruturas.cpp</span><br><span class="line">|-- moc_mainwindow.cpp</span><br><span class="line">|-- moc_qbase.cpp</span><br><span class="line">|-- moc_qconfigdialogpagesestruturas.cpp</span><br><span class="line">|-- moc_qdialogabrir.cpp</span><br><span class="line">|-- moc_qdialogarvoreb.cpp</span><br><span class="line">|-- moc_qdialogarvorebplus.cpp</span><br><span class="line">|-- moc_qdialoghash.cpp</span><br><span class="line">|-- qavl.cpp</span><br><span class="line">|-- qavl.h</span><br><span class="line">|-- qb.cpp</span><br><span class="line">|-- qb.h</span><br><span class="line">|-- qbase.cpp</span><br><span class="line">|-- qbase.h</span><br><span class="line">|-- qbnodo.cpp</span><br><span class="line">|-- qbnodo.h</span><br><span class="line">|-- qbplus.cpp</span><br><span class="line">|-- qbplus.h</span><br><span class="line">|-- qbplusnodo.cpp</span><br><span class="line">|-- qbplusnodo.h</span><br><span class="line">|-- qbst.cpp</span><br><span class="line">|-- qbst.h</span><br><span class="line">|-- qbstnodo.cpp</span><br><span class="line">|-- qbstnodo.h</span><br><span class="line">|-- qdialogabrir.cpp</span><br><span class="line">|-- qdialogabrir.h</span><br><span class="line">|-- qdialogabrir.ui</span><br><span class="line">|-- qdialogarvoreb.cpp</span><br><span class="line">|-- qdialogarvoreb.h</span><br><span class="line">|-- qdialogarvoreb.ui</span><br><span class="line">|-- qdialogarvorebplus.cpp</span><br><span class="line">|-- qdialogarvorebplus.h</span><br><span class="line">|-- qdialogarvorebplus.ui</span><br><span class="line">|-- qdialoghash.cpp</span><br><span class="line">|-- qdialoghash.h</span><br><span class="line">|-- qdialoghash.ui</span><br><span class="line">|-- qopenhash.cpp</span><br><span class="line">|-- qopenhash.h</span><br><span class="line">|-- qopenhashnodo.cpp</span><br><span class="line">|-- qopenhashnodo.h</span><br><span class="line">|-- qopenhashtable.cpp</span><br><span class="line">|-- qopenhashtable.h</span><br><span class="line">|-- qrc_qwood.cpp</span><br><span class="line">|-- qsplay.cpp</span><br><span class="line">|-- qsplay.h</span><br><span class="line">|-- qtrie.cpp</span><br><span class="line">|-- qtrie.h</span><br><span class="line">|-- qtrienodo.cpp</span><br><span class="line">|-- qtrienodo.h</span><br><span class="line">|-- qwood.qrc</span><br><span class="line">|-- ui_configdialogpageestruturas.h</span><br><span class="line">|-- ui_qconfigdialogpagesestruturas.h</span><br><span class="line">|-- ui_qdialogabrir.h</span><br><span class="line">|-- ui_qdialogarvoreb.h</span><br><span class="line">|-- ui_qdialogarvorebplus.h</span><br><span class="line">|-- ui_qdialoghash.h</span><br><span class="line">|-- ui_qordemarvoreB.h</span><br><span class="line">`-- uml</span><br><span class="line">    `-- QWood.xmi</span><br><span class="line"></span><br><span class="line">4 directories, 107 files</span><br></pre></td></tr></table></figure></li></ol><h3 id="使用Qt-Creator运行QWood"><a href="#使用Qt-Creator运行QWood" class="headerlink" title="使用Qt Creator运行QWood"></a>使用Qt Creator运行QWood</h3><ol><li><p>运行<code>Qt Creator</code>，点击左上角<code>文件</code>-&gt;<code>打开文件或项目</code>，选择<code>qwood/QWood.pro</code>文件</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/a920a1f9f8badfdf9dd336b0c7653262.png" alt="8"></p></li><li><p>配置项目</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/59e2e20a04f97499e65e9853cab5a5dc.png" alt="9"></p></li><li><p>编译与运行（右下角绿色三角）</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/618165b884997387282c80c355f503e9.png" alt="10"></p><p>在编译与运行时可能遇到如下<strong><code>问题及解决办法</code></strong>：</p><ol><li><p>函数无返回值</p><p><strong>样例</strong></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/44f4f38e73ccb0ed430a4a6f0a8c2dee.png" alt="11"></p><p><strong>解决方法：</strong></p><p>&emsp;&emsp;双击红色报错部分，进入出错位置，并在如图中位置添加<code>return nullptr;</code></p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/7bfa5a16c24780c48047e6a3cec04e58.png" alt="12"></p><p>  &emsp;&emsp;注意：Qt Creator下方所有红色报错部分的相关文件都要更改。</p></li><li><p>缺少<code>QIntValidator</code>类型</p><p>&emsp;&emsp;如果是<code>.cpp</code>文件出错，翻到代码顶部，若发现与cpp文件同名的<code>.h</code>文件，按住<code>Ctrl</code>并点击<code>.h</code>文件名即可跳转到相应的<code>.h</code>文件中，在<code>.h</code>文件头部添加：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QtGui/QIntValidator&gt;</span></span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;如果是<code>.h</code>文件出错，直接在头部添加上面的代码即可。</p></li></ol><p>成功运行：</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/a047db0f4d87d13d0a5e22ec46ffca41.png" alt="12"></p></li></ol><h3 id="使用VS2017运行QWood"><a href="#使用VS2017运行QWood" class="headerlink" title="使用VS2017运行QWood"></a>使用VS2017运行QWood</h3><h3 id="打开QWood"><a href="#打开QWood" class="headerlink" title="打开QWood"></a>打开QWood</h3><ol><li><p>运行VS2017，点击上方<code>Qt VS Tools</code>-&gt;<code>Open Qt Project File (.pro) ...</code>，选择<code>qwood/QWood.pro</code>文件。</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/dadc44d07d3bd09f4f6330e02b50e1c6.png" alt="14"></p><p>将项目编译方式选为：<code>Release</code>+<code>x86</code>，右侧红框内为项目结构。</p></li><li><p>编译并运行</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/a047db0f4d87d13d0a5e22ec46ffca41.png" alt="13"></p></li></ol><h2 id="简单使用QWood"><a href="#简单使用QWood" class="headerlink" title="简单使用QWood"></a>简单使用QWood</h2><ol><li><p>点击左上角<code>Arquivo</code>-&gt;<code>Novo</code>-&gt;<code>AVL</code></p></li><li><p>在左上角的输入框内输入如下数字，每个数字按一次<code>回车键</code>或点击输入框右侧<code>+ Inserir</code>按钮添加数字。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 3 5 7 9 2 4 6 8 10</span><br></pre></td></tr></table></figure></li><li><p>运行效果</p><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://alapi.rhythmlian.cn/image/2021/03/06/b075aff68ada542392dc6ed7b24c50ae.png" alt="15"></p></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="C++" scheme="https://rhythmlian.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>解决GitHub图片显示问题</title>
    <link href="https://rhythmlian.cn/2020/06/29/github-img-issue/"/>
    <id>https://rhythmlian.cn/2020/06/29/github-img-issue/</id>
    <published>2020-06-29T07:19:19.000Z</published>
    <updated>2020-06-29T07:19:19.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="打开电脑中的hosts文件"><a href="#打开电脑中的hosts文件" class="headerlink" title="打开电脑中的hosts文件"></a>打开电脑中的hosts文件</h2><div class="table-container"><table><thead><tr><th>系统</th><th>PATH</th></tr></thead><tbody><tr><td>Windows</td><td><code>C:\Windows\System32\drivers\etc\hosts</code></td></tr><tr><td>Mac</td><td><code>/etc/hosts</code></td></tr><tr><td>Linux</td><td><code>/etc/hosts</code></td></tr></tbody></table></div><h2 id="添加如下内容"><a href="#添加如下内容" class="headerlink" title="添加如下内容"></a>添加如下内容</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># GitHub Start </span><br><span class="line">140.82.113.3      github.com</span><br><span class="line">140.82.114.20     gist.github.com</span><br><span class="line"></span><br><span class="line">151.101.184.133    assets-cdn.github.com</span><br><span class="line">151.101.184.133    raw.githubusercontent.com</span><br><span class="line">151.101.184.133    gist.githubusercontent.com</span><br><span class="line">151.101.184.133    cloud.githubusercontent.com</span><br><span class="line">151.101.184.133    camo.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars0.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars0.githubusercontent.com</span><br><span class="line">199.232.28.133     avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars2.githubusercontent.com</span><br><span class="line">199.232.28.133     avatars2.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars3.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars3.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars4.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars4.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars5.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars5.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars6.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars6.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars7.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars7.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars8.githubusercontent.com</span><br><span class="line">199.232.68.133     avatars8.githubusercontent.com</span><br><span class="line"></span><br><span class="line"># GitHub End</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot;</summary>
        
      
    
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/categories/%E6%94%BB%E7%95%A5/"/>
    
    
    <category term="攻略" scheme="https://rhythmlian.cn/tags/%E6%94%BB%E7%95%A5/"/>
    
  </entry>
  
</feed>
